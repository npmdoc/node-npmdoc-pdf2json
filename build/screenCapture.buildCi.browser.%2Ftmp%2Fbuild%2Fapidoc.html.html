<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/modesty/pdf2json">pdf2json (v1.1.7)</a>
</h1>
<h4>A PDF file parser that converts PDF binaries to text based JSON, powered by porting a fork of PDF.JS to Node.js</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json">module pdf2json</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf2json">
            function <span class="apidocSignatureSpan"></span>pdf2json
            <span class="apidocSignatureSpan">(context, needRawText)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.p2jcmd">
            function <span class="apidocSignatureSpan">pdf2json.</span>p2jcmd
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdf
            <span class="apidocSignatureSpan">(needRawText)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfanno">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdfanno
            <span class="apidocSignatureSpan">(field, viewport, Fields, Boxsets)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdfcanvas
            <span class="apidocSignatureSpan">(canvasTarget, scaledWidth, scaledHeight)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffield">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdffield
            <span class="apidocSignatureSpan">(field, viewport, Fields, Boxsets)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffill">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdffill
            <span class="apidocSignatureSpan">(x, y, width, height, color)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffont">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdffont
            <span class="apidocSignatureSpan">(fontObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfimage">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdfimage
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfline">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdfline
            <span class="apidocSignatureSpan">(x1, y1, x2, y2, lineWidth, color, dashed)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfparser">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdfparser
            <span class="apidocSignatureSpan">(context, needRawText)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfunit">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdfunit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.ptixmlinject">
            function <span class="apidocSignatureSpan">pdf2json.</span>ptixmlinject
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.super_">
            function <span class="apidocSignatureSpan">pdf2json.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.toString">
            function <span class="apidocSignatureSpan">pdf2json.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">pdf2json.</span>p2jcmd.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">pdf2json.</span>pdf.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">pdf2json.</span>pdfanno.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">pdf2json.</span>pdfcanvas.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">pdf2json.</span>pdffield.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">pdf2json.</span>pdffill.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">pdf2json.</span>pdffont.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">pdf2json.</span>pdfline.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">pdf2json.</span>ptixmlinject.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.p2jcmd">module pdf2json.p2jcmd</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.p2jcmd.p2jcmd">
            function <span class="apidocSignatureSpan">pdf2json.</span>p2jcmd
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.p2jcmd.prototype">module pdf2json.p2jcmd.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.p2jcmd.prototype.complete">
            function <span class="apidocSignatureSpan">pdf2json.p2jcmd.prototype.</span>complete
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.p2jcmd.prototype.initialize">
            function <span class="apidocSignatureSpan">pdf2json.p2jcmd.prototype.</span>initialize
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.p2jcmd.prototype.processFiles">
            function <span class="apidocSignatureSpan">pdf2json.p2jcmd.prototype.</span>processFiles
            <span class="apidocSignatureSpan">(inputDir, files)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.p2jcmd.prototype.processOneDirectory">
            function <span class="apidocSignatureSpan">pdf2json.p2jcmd.prototype.</span>processOneDirectory
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.p2jcmd.prototype.processOneFile">
            function <span class="apidocSignatureSpan">pdf2json.p2jcmd.prototype.</span>processOneFile
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.p2jcmd.prototype.start">
            function <span class="apidocSignatureSpan">pdf2json.p2jcmd.prototype.</span>start
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdf">module pdf2json.pdf</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf.pdf">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdf
            <span class="apidocSignatureSpan">(needRawText)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf.super_">
            function <span class="apidocSignatureSpan">pdf2json.pdf.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdf.prototype">module pdf2json.pdf.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf.prototype.destroy">
            function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf.prototype.getAllFieldsTypes">
            function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>getAllFieldsTypes
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf.prototype.getMergedTextBlocksIfNeeded">
            function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>getMergedTextBlocksIfNeeded
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf.prototype.getRawTextContent">
            function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>getRawTextContent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf.prototype.load">
            function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>load
            <span class="apidocSignatureSpan">(pdfDocument, scale)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf.prototype.loadMetaData">
            function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>loadMetaData
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf.prototype.loadPages">
            function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>loadPages
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf.prototype.parseMetaData">
            function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>parseMetaData
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf.prototype.parsePDFData">
            function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>parsePDFData
            <span class="apidocSignatureSpan">(arrayBuffer)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf.prototype.parsePage">
            function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>parsePage
            <span class="apidocSignatureSpan">(promisedPages, id, scale)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf.prototype.raiseErrorEvent">
            function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>raiseErrorEvent
            <span class="apidocSignatureSpan">(errMsg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf.prototype.raiseReadyEvent">
            function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>raiseReadyEvent
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdf.prototype.tryLoadFieldInfoXML">
            function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>tryLoadFieldInfoXML
            <span class="apidocSignatureSpan">(pdfFilePath)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdfanno">module pdf2json.pdfanno</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfanno.pdfanno">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdfanno
            <span class="apidocSignatureSpan">(field, viewport, Fields, Boxsets)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfanno.processAnnotation">
            function <span class="apidocSignatureSpan">pdf2json.pdfanno.</span>processAnnotation
            <span class="apidocSignatureSpan">(annotation, item)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdfanno.prototype">module pdf2json.pdfanno.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfanno.prototype.clean">
            function <span class="apidocSignatureSpan">pdf2json.pdfanno.prototype.</span>clean
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdfcanvas">module pdf2json.pdfcanvas</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.pdfcanvas">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdfcanvas
            <span class="apidocSignatureSpan">(canvasTarget, scaledWidth, scaledHeight)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdfcanvas.prototype">module pdf2json.pdfcanvas.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.arc">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>arc
            <span class="apidocSignatureSpan">(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.arcTo">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>arcTo
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.beginPath">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>beginPath
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.bezierCurveTo">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>bezierCurveTo
            <span class="apidocSignatureSpan">(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.clearRect">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>clearRect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.clip">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>clip
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.closePath">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>closePath
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.createLinearGradient">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>createLinearGradient
            <span class="apidocSignatureSpan">(aX0, aY0, aX1, aY1)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.createPattern">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>createPattern
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.createRadialGradient">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>createRadialGradient
            <span class="apidocSignatureSpan">(aX0, aY0, aR0, aX1, aY1, aR1)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.drawImage">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>drawImage
            <span class="apidocSignatureSpan">(image, var_args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.fill">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>fill
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.fillRect">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>fillRect
            <span class="apidocSignatureSpan">(aX, aY, aWidth, aHeight)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.fillText">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>fillText
            <span class="apidocSignatureSpan">(text, x, y, maxWidth, fontSize)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.getContext">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>getContext
            <span class="apidocSignatureSpan">(ctxType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.getCoords_">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>getCoords_
            <span class="apidocSignatureSpan">(aX, aY)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.getImageData">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>getImageData
            <span class="apidocSignatureSpan">(x, y, w, h)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.getLineDash">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>getLineDash
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.lineTo">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>lineTo
            <span class="apidocSignatureSpan">(aX, aY)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.measureText">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>measureText
            <span class="apidocSignatureSpan">(text)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.moveTo">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>moveTo
            <span class="apidocSignatureSpan">(aX, aY)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.quadraticCurveTo">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>quadraticCurveTo
            <span class="apidocSignatureSpan">(aCPx, aCPy, aX, aY)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.rect">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>rect
            <span class="apidocSignatureSpan">(aX, aY, aWidth, aHeight)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.restore">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>restore
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.rotate">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>rotate
            <span class="apidocSignatureSpan">(aRot)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.save">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>save
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.scale">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>scale
            <span class="apidocSignatureSpan">(aX, aY)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.setFont">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>setFont
            <span class="apidocSignatureSpan">(fontObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.setLineDash">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>setLineDash
            <span class="apidocSignatureSpan">(lineDash)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.setTransform">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>setTransform
            <span class="apidocSignatureSpan">(m11, m12, m21, m22, dx, dy)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.stroke">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>stroke
            <span class="apidocSignatureSpan">(aFill)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.strokeRect">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>strokeRect
            <span class="apidocSignatureSpan">(aX, aY, aWidth, aHeight)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.strokeText">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>strokeText
            <span class="apidocSignatureSpan">(text, x, y, maxWidth)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.transform">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>transform
            <span class="apidocSignatureSpan">(m11, m12, m21, m22, dx, dy)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfcanvas.prototype.translate">
            function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>translate
            <span class="apidocSignatureSpan">(aX, aY)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdffield">module pdf2json.pdffield</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffield.pdffield">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdffield
            <span class="apidocSignatureSpan">(field, viewport, Fields, Boxsets)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffield.getAllFieldsTypes">
            function <span class="apidocSignatureSpan">pdf2json.pdffield.</span>getAllFieldsTypes
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffield.isFormElement">
            function <span class="apidocSignatureSpan">pdf2json.pdffield.</span>isFormElement
            <span class="apidocSignatureSpan">(field)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffield.isWidgetSupported">
            function <span class="apidocSignatureSpan">pdf2json.pdffield.</span>isWidgetSupported
            <span class="apidocSignatureSpan">(field)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdffield.prototype">module pdf2json.pdffield.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffield.prototype.clean">
            function <span class="apidocSignatureSpan">pdf2json.pdffield.prototype.</span>clean
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffield.prototype.processField">
            function <span class="apidocSignatureSpan">pdf2json.pdffield.prototype.</span>processField
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdffill">module pdf2json.pdffill</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffill.pdffill">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdffill
            <span class="apidocSignatureSpan">(x, y, width, height, color)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdffill.prototype">module pdf2json.pdffill.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffill.prototype.processFill">
            function <span class="apidocSignatureSpan">pdf2json.pdffill.prototype.</span>processFill
            <span class="apidocSignatureSpan">(targetData)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdffont">module pdf2json.pdffont</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffont.pdffont">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdffont
            <span class="apidocSignatureSpan">(fontObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffont.areAdjacentBlocks">
            function <span class="apidocSignatureSpan">pdf2json.pdffont.</span>areAdjacentBlocks
            <span class="apidocSignatureSpan">(t1, t2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffont.areDuplicateBlocks">
            function <span class="apidocSignatureSpan">pdf2json.pdffont.</span>areDuplicateBlocks
            <span class="apidocSignatureSpan">(t1, t2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffont.compareBlockPos">
            function <span class="apidocSignatureSpan">pdf2json.pdffont.</span>compareBlockPos
            <span class="apidocSignatureSpan">(t1, t2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffont.getFontSize">
            function <span class="apidocSignatureSpan">pdf2json.pdffont.</span>getFontSize
            <span class="apidocSignatureSpan">(textBlock)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffont.getSpaceThreshHold">
            function <span class="apidocSignatureSpan">pdf2json.pdffont.</span>getSpaceThreshHold
            <span class="apidocSignatureSpan">(t1)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffont.haveSameStyle">
            function <span class="apidocSignatureSpan">pdf2json.pdffont.</span>haveSameStyle
            <span class="apidocSignatureSpan">(t1, t2)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdffont.prototype">module pdf2json.pdffont.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffont.prototype.clean">
            function <span class="apidocSignatureSpan">pdf2json.pdffont.prototype.</span>clean
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffont.prototype.flash_encode">
            function <span class="apidocSignatureSpan">pdf2json.pdffont.prototype.</span>flash_encode
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdffont.prototype.processText">
            function <span class="apidocSignatureSpan">pdf2json.pdffont.prototype.</span>processText
            <span class="apidocSignatureSpan">(p, str, maxWidth, color, fontSize, targetData, matrix2D)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdfimage">module pdf2json.pdfimage</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfimage.pdfimage">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdfimage
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdfline">module pdf2json.pdfline</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfline.pdfline">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdfline
            <span class="apidocSignatureSpan">(x1, y1, x2, y2, lineWidth, color, dashed)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdfline.prototype">module pdf2json.pdfline.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfline.prototype.processLine">
            function <span class="apidocSignatureSpan">pdf2json.pdfline.prototype.</span>processLine
            <span class="apidocSignatureSpan">(targetData)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.pdfunit">module pdf2json.pdfunit</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfunit.pdfunit">
            function <span class="apidocSignatureSpan">pdf2json.</span>pdfunit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfunit.colorCount">
            function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>colorCount
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfunit.findColorIndex">
            function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>findColorIndex
            <span class="apidocSignatureSpan">(color)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfunit.getColorByIndex">
            function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>getColorByIndex
            <span class="apidocSignatureSpan">(clrId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfunit.pointToPixel">
            function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>pointToPixel
            <span class="apidocSignatureSpan">(point)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfunit.toFixedFloat">
            function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>toFixedFloat
            <span class="apidocSignatureSpan">(fNum)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfunit.toFormPoint">
            function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>toFormPoint
            <span class="apidocSignatureSpan">(viewportX, viewportY)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfunit.toFormX">
            function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>toFormX
            <span class="apidocSignatureSpan">(viewportX)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfunit.toFormY">
            function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>toFormY
            <span class="apidocSignatureSpan">(viewportY)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfunit.toPixelX">
            function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>toPixelX
            <span class="apidocSignatureSpan">(formX)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.pdfunit.toPixelY">
            function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>toPixelY
            <span class="apidocSignatureSpan">(formY)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.ptixmlinject">module pdf2json.ptixmlinject</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.ptixmlinject.ptixmlinject">
            function <span class="apidocSignatureSpan">pdf2json.</span>ptixmlinject
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.ptixmlinject.prototype">module pdf2json.ptixmlinject.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.ptixmlinject.prototype.getFields">
            function <span class="apidocSignatureSpan">pdf2json.ptixmlinject.prototype.</span>getFields
            <span class="apidocSignatureSpan">(pageNum)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.ptixmlinject.prototype.parseXml">
            function <span class="apidocSignatureSpan">pdf2json.ptixmlinject.prototype.</span>parseXml
            <span class="apidocSignatureSpan">(filePath, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pdf2json.toString">module pdf2json.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pdf2json.toString.toString">
            function <span class="apidocSignatureSpan">pdf2json.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json" id="apidoc.module.pdf2json">module pdf2json</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdf2json" id="apidoc.element.pdf2json.pdf2json">
        function <span class="apidocSignatureSpan"></span>pdf2json
        <span class="apidocSignatureSpan">(context, needRawText)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PdfParser(context, needRawText) {
		//call constructor for super class
	    stream.Transform.call(this, {objectMode: true, bufferSize: 64 * 1024});
	
        // private
        let _id = _nextId++;

        // public (every instance will have their own copy of these methods, needs to be lightweight)
        this.get_id = () =&gt; _id;
        this.get_name = () =&gt; _name + _id;

        // service context object, only used in Web Service project; null in command line
        this.context = context;

        this.pdfFilePath = null; //current PDF file to load and parse, null means loading/parsing not started
        this.data = null; //if file read success, data is PDF content; if failed, data is "err" object
        this.PDFJS = new PDFJS(needRawText);
        this.processFieldInfoXML = false;//disable additional _fieldInfo.xml parsing and merging

	    this.chunks = [];
	    this.flushCallback = null;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.p2jcmd" id="apidoc.element.pdf2json.p2jcmd">
        function <span class="apidocSignatureSpan">pdf2json.</span>p2jcmd
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">p2jcmd = function () {
    this.inputCount = 0;
    this.successCount = 0;
    this.failedCount = 0;
    this.warningCount = 0;

    this.p2j = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdf" id="apidoc.element.pdf2json.pdf">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdf
        <span class="apidocSignatureSpan">(needRawText)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdf = function (needRawText) {
    nodeEvents.EventEmitter.call(this);
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = () =&gt; _id;
    this.get_name = () =&gt; _name + _id;

    // public, this instance copies
    this.pdfDocument = null;
    this.pages = [];
    this.pageWidth = 0;
    this.rawTextContents = [];

    this.needRawText = needRawText;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfanno" id="apidoc.element.pdf2json.pdfanno">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdfanno
        <span class="apidocSignatureSpan">(field, viewport, Fields, Boxsets)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdfanno = function (field, viewport, Fields, Boxsets) {
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = function () {
        return _id;
    };
    this.get_name = function () {
        return _name + _id;
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas" id="apidoc.element.pdf2json.pdfcanvas">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdfcanvas
        <span class="apidocSignatureSpan">(canvasTarget, scaledWidth, scaledHeight)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CanvasRenderingContext2D_(canvasTarget, scaledWidth, scaledHeight) {
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = function() { return _id; };
    this.get_name = function() { return _name + _id; };

    this.m_ = createMatrixIdentity();

    this.mStack_ = [];
    this.aStack_ = [];
    this.currentPath_ = [];

    // Canvas context properties
    this.strokeStyle = '#000';
    this.fillStyle = '#000';

    this.lineWidth = 1;
    this.lineJoin = 'miter';
    this.lineCap = 'butt';
    this.dashArray = [];
    this.miterLimit = 1;
    this.globalAlpha = 1;

    if (!_.has(canvasTarget, "HLines") || !_.isArray(canvasTarget.HLines))
        canvasTarget.HLines = [];
    if (!_.has(canvasTarget, "VLines") || !_.isArray(canvasTarget.VLines))
        canvasTarget.VLines = [];
    if (!_.has(canvasTarget, "Fills") || !_.isArray(canvasTarget.Fills))
        canvasTarget.Fills = [];
    if (!_.has(canvasTarget, "Texts") || !_.isArray(canvasTarget.Texts))
        canvasTarget.Texts = [];

    this.canvas = canvasTarget;

    this.width = scaledWidth;
    this.height = scaledHeight;

    this.arcScaleX_ = 1;
    this.arcScaleY_ = 1;
    this.lineScale_ = 1;

    this.currentFont = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdffield" id="apidoc.element.pdf2json.pdffield">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdffield
        <span class="apidocSignatureSpan">(field, viewport, Fields, Boxsets)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdffield = function (field, viewport, Fields, Boxsets) {
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = function() { return _id; };
    this.get_name = function() { return _name + _id; };

    this.field = field;
    this.viewport = viewport;
    this.Fields = Fields;
    this.Boxsets = Boxsets;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdffill" id="apidoc.element.pdf2json.pdffill">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdffill
        <span class="apidocSignatureSpan">(x, y, width, height, color)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdffill = function (x, y, width, height, color) {
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = function() { return _id; };
    this.get_name = function() { return _name + _id; };

    this.x = x;
    this.y = y;
    this.width = width;
    this.height = height;
    this.color = color;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdffont" id="apidoc.element.pdf2json.pdffont">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdffont
        <span class="apidocSignatureSpan">(fontObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdffont = function (fontObj) {
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = function() { return _id; };
    this.get_name = function() { return _name + _id; };

    this.fontObj = fontObj;
    let typeName = (fontObj.name || fontObj.fallbackName);
    if (!typeName) {
        typeName = _kFontFaces[0]; //default font family name
    }
    typeName = typeName.toLowerCase();
    this.typeName = typeName;

    let subType = typeName;
    let nameArray = typeName.split('+');
    if (_.isArray(nameArray) &amp;&amp; nameArray.length &gt; 1) {
        subType = nameArray[1].split("-");
        if (_.isArray(subType) &amp;&amp; subType.length &gt; 1) {
            if (!this.bold) {
                let subName = subType[1].toLowerCase();
                this.bold = _boldSubNames.indexOf(subName) &gt;= 0;
            }
            subType = subType[0];
        }
    }
    this.subType = subType;

    this.isSymbol = typeName.indexOf("symbol") &gt; 0 || _kFontFaces[2].indexOf(this.subType) &gt;= 0;
    if (this.fontObj.isSymbolicFont) {
        let mFonts = _stdFonts.filter( (oneName) =&gt; (typeName.indexOf(oneName) &gt;= 0) );

        if (mFonts.length &gt; 0) {
            this.fontObj.isSymbolicFont = false; //lots of Arial-based font is detected as symbol in VA forms (301, 76-c, etc.)
reset the flag for now
            nodeUtil.p2jinfo("Reset: isSymbolicFont (false) for " + this.fontObj.name);
        }
    }
    else {
        if (this.isSymbol) {
            this.fontObj.isSymbolicFont = true; //text pdf: va_ind_760c
            nodeUtil.p2jinfo("Reset: isSymbolicFont (true) for " + this.fontObj.name);
        }
    }

    this.fontSize = 1;

    this.faceIdx = 0;
    this.bold = false;
    this.italic = false;

    this.fontStyleId = -1;

	    this.spaceWidth = fontObj.spaceWidth;
	    if (!this.spaceWidth) {
		    var spaceId = Array.isArray(fontObj.toFontChar) ? fontObj.toFontChar.indexOf(32) : -1;
		    this.spaceWidth = (spaceId &gt;= 0 &amp;&amp; Array.isArray(fontObj.widths)) ? fontObj.widths[spaceId] : 250;
	    }
	    this.spaceWidth = PDFUnit.toFormX(this.spaceWidth) / 32;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfimage" id="apidoc.element.pdf2json.pdfimage">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdfimage
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdfimage = function () {
	'use strict';

	let _src = '';
	let _onload = null;

	this.__defineSetter__("onload", function(val) {
		_onload = val;
	});

	this.__defineGetter__("onload", function() {
		return _onload;
	});

	this.__defineSetter__("src", function(val) {
		_src = val;
		if (_onload) _onload();
	});

	this.__defineGetter__("src", function() {
		return _src;
	});

    this.btoa = function(val) {
        if (typeof window === 'undefined') {
            return (new Buffer(val, 'ascii')).toString('base64');
        }
        else if (typeof window.btoa === 'function')
            return window.btoa(val);

        return "";
    };

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfline" id="apidoc.element.pdf2json.pdfline">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdfline
        <span class="apidocSignatureSpan">(x1, y1, x2, y2, lineWidth, color, dashed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdfline = function (x1, y1, x2, y2, lineWidth, color, dashed) {
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = function() { return _id; };
    this.get_name = function() { return _name + _id; };

    this.x1 = x1;
    this.y1 = y1;
    this.x2 = x2;
    this.y2 = y2;
    this.lineWidth = lineWidth || 1.0;
    this.color = color;
    this.dashed = dashed;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfparser" id="apidoc.element.pdf2json.pdfparser">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdfparser
        <span class="apidocSignatureSpan">(context, needRawText)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PdfParser(context, needRawText) {
		//call constructor for super class
	    stream.Transform.call(this, {objectMode: true, bufferSize: 64 * 1024});
	
        // private
        let _id = _nextId++;

        // public (every instance will have their own copy of these methods, needs to be lightweight)
        this.get_id = () =&gt; _id;
        this.get_name = () =&gt; _name + _id;

        // service context object, only used in Web Service project; null in command line
        this.context = context;

        this.pdfFilePath = null; //current PDF file to load and parse, null means loading/parsing not started
        this.data = null; //if file read success, data is PDF content; if failed, data is "err" object
        this.PDFJS = new PDFJS(needRawText);
        this.processFieldInfoXML = false;//disable additional _fieldInfo.xml parsing and merging

	    this.chunks = [];
	    this.flushCallback = null;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfunit" id="apidoc.element.pdf2json.pdfunit">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdfunit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdfunit = function () {
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = function() { return _id; };
    this.get_name = function() { return _name + _id; };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.ptixmlinject" id="apidoc.element.pdf2json.ptixmlinject">
        function <span class="apidocSignatureSpan">pdf2json.</span>ptixmlinject
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ptixmlinject = function () {
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.super_" id="apidoc.element.pdf2json.super_">
        function <span class="apidocSignatureSpan">pdf2json.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Transform(options) {
  if (!(this instanceof Transform))
    return new Transform(options);

  Duplex.call(this, options);

  this._transformState = new TransformState(this);

  var stream = this;

  // start out asking for a readable event once data is transformed.
  this._readableState.needReadable = true;

  // we have implemented the _read method, and done the other things
  // that Readable wants before the first _read call, so unset the
  // sync guard flag.
  this._readableState.sync = false;

  if (options) {
    if (typeof options.transform === 'function')
      this._transform = options.transform;

    if (typeof options.flush === 'function')
      this._flush = options.flush;
  }

  // When the writable side finishes, then flush out anything remaining.
  this.once('prefinish', function() {
    if (typeof this._flush === 'function')
      this._flush(function(er) {
        done(stream, er);
      });
    else
      done(stream);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.toString" id="apidoc.element.pdf2json.toString">
        function <span class="apidocSignatureSpan">pdf2json.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return text;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
let abs = m.abs;
let sqrt = m.sqrt;

// precompute "00" to "FF"
let dec2hex = [];
for (let i = 0; i &lt; 16; i++) {
    for (let j = 0; j &lt; 16; j++) {
        dec2hex[i * 16 + j] = i.<span class="apidocCodeKeywordSpan">toString</span>(16) + j.toString(16);
    }
}

function createMatrixIdentity() {
    return [
        [1, 0, 0],
        [0, 1, 0],
...</pre></li>
    </ul>




















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.p2jcmd" id="apidoc.module.pdf2json.p2jcmd">module pdf2json.p2jcmd</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.p2jcmd.p2jcmd" id="apidoc.element.pdf2json.p2jcmd.p2jcmd">
        function <span class="apidocSignatureSpan">pdf2json.</span>p2jcmd
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">p2jcmd = function () {
    this.inputCount = 0;
    this.successCount = 0;
    this.failedCount = 0;
    this.warningCount = 0;

    this.p2j = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.p2jcmd.prototype" id="apidoc.module.pdf2json.p2jcmd.prototype">module pdf2json.p2jcmd.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.p2jcmd.prototype.complete" id="apidoc.element.pdf2json.p2jcmd.prototype.complete">
        function <span class="apidocSignatureSpan">pdf2json.p2jcmd.prototype.</span>complete
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">complete = function (err) {
    let statusMsg = "\n%d input files\t%d success\t%d fail\t%d warning.";
    console.log(statusMsg, this.inputCount, this.successCount, this.failedCount, this.warningCount);

    process.nextTick( () =&gt; {
        console.timeEnd(_PRO_TIMER);
        //let exitCode = (this.inputCount === this.successCount) ? 0 : 1;
        process.exit(0);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

cls.prototype.processOneFile = function () {
    let inputDir = path.dirname(argv.f);
    let inputFile = path.basename(argv.f);

    this.inputCount = 1;
    this.p2j = new PDF2JSONUtil(inputDir, inputFile, this);
    this.p2j.processFile( data =&gt; this.<span class="apidocCodeKeywordSpan">complete</span>(data) );
};

cls.prototype.processFiles = function(inputDir, files) {
    let fId = 0;
    this.p2j = new PDF2JSONUtil(inputDir, files[fId], this);
    this.p2j.processFile( function processPDFFile(err) {
        if (err) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.p2jcmd.prototype.initialize" id="apidoc.element.pdf2json.p2jcmd.prototype.initialize">
        function <span class="apidocSignatureSpan">pdf2json.p2jcmd.prototype.</span>initialize
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (){
    console.time(_PRO_TIMER);
    let retVal = true;
    try {
        if (_.has(argv, 'v')) {
            console.log(pkInfo.version);
            retVal = false;
        }
        else if (_.has(argv, 'h')) {
            optimist.showHelp();
            retVal = false;
        }
        else if (!_.has(argv, 'f')) {
            optimist.showHelp();
            console.log("-f is required to specify input directory or file.");
            retVal = false;
        }
    }
    catch(e) {
        console.log("Exception: " + e.message);
        retVal = false;
    }
    return retVal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    console.log("Exception: " + e.message);
    retVal = false;
}
return retVal;
    };

    cls.prototype.start = function(){
if (!this.<span class="apidocCodeKeywordSpan">initialize</span>()) {
    console.timeEnd(_PRO_TIMER);
    return;
}

try {
    console.log("\n" + _PRO_TIMER);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.p2jcmd.prototype.processFiles" id="apidoc.element.pdf2json.p2jcmd.prototype.processFiles">
        function <span class="apidocSignatureSpan">pdf2json.p2jcmd.prototype.</span>processFiles
        <span class="apidocSignatureSpan">(inputDir, files)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processFiles = function (inputDir, files) {
    let fId = 0;
    this.p2j = new PDF2JSONUtil(inputDir, files[fId], this);
    this.p2j.processFile( function processPDFFile(err) {
        if (err) {
            this.complete(err);
        }
        else {
            fId++;
            if (fId &gt;= this.inputCount) {
                this.complete(null);
            }
            else {
                if (this.p2j) {
                    this.p2j.destroy();
                    this.p2j = null;
                }

                this.p2j = new PDF2JSONUtil(inputDir, files[fId], this);
                this.p2j.processFile(processPDFFile.bind(this));
            }
        }
    }.bind(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    fs.readdir(inputDir, (err, files) =&gt; {
        let _iChars = "!@#$%^&amp;*()+=[]\\\';,/{}|\":&lt;&gt;?~`.-_  ";
        let pdfFiles = files.filter( file =&gt; file.substr(-4).toLowerCase() === '.pdf' &amp;&amp; _iChars.indexOf
(file.substr(0,1)) &lt; 0 );

        this.inputCount = pdfFiles.length;
        if (this.inputCount &gt; 0) {
            this.<span class="apidocCodeKeywordSpan">processFiles</span>(inputDir, pdfFiles);
        }
        else {
            console.log("No PDF files found. [" + inputDir + "].");
            this.complete(null);
        }
    });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.p2jcmd.prototype.processOneDirectory" id="apidoc.element.pdf2json.p2jcmd.prototype.processOneDirectory">
        function <span class="apidocSignatureSpan">pdf2json.p2jcmd.prototype.</span>processOneDirectory
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processOneDirectory = function () {
    let inputDir = path.normalize(argv.f);

    fs.readdir(inputDir, (err, files) =&gt; {
        let _iChars = "!@#$%^&amp;*()+=[]\\\';,/{}|\":&lt;&gt;?~`.-_  ";
        let pdfFiles = files.filter( file =&gt; file.substr(-4).toLowerCase() === '.pdf' &amp;&amp; _iChars.indexOf(file.substr(0,1)) &lt; 0 );

        this.inputCount = pdfFiles.length;
        if (this.inputCount &gt; 0) {
            this.processFiles(inputDir, pdfFiles);
        }
        else {
            console.log("No PDF files found. [" + inputDir + "].");
            this.complete(null);
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

        let inputStatus = fs.statSync(argv.f);

        if (inputStatus.isFile()) {
            this.processOneFile();
        }
        else if (inputStatus.isDirectory()) {
            this.<span class="apidocCodeKeywordSpan">processOneDirectory</span>();
        }
    }
    catch(e) {
        console.error("Exception: " + e.message);
        console.timeEnd(_PRO_TIMER);
    }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.p2jcmd.prototype.processOneFile" id="apidoc.element.pdf2json.p2jcmd.prototype.processOneFile">
        function <span class="apidocSignatureSpan">pdf2json.p2jcmd.prototype.</span>processOneFile
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processOneFile = function () {
    let inputDir = path.dirname(argv.f);
    let inputFile = path.basename(argv.f);

    this.inputCount = 1;
    this.p2j = new PDF2JSONUtil(inputDir, inputFile, this);
    this.p2j.processFile( data =&gt; this.complete(data) );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

try {
    console.log("\n" + _PRO_TIMER);

    let inputStatus = fs.statSync(argv.f);

    if (inputStatus.isFile()) {
        this.<span class="apidocCodeKeywordSpan">processOneFile</span>();
    }
    else if (inputStatus.isDirectory()) {
        this.processOneDirectory();
    }
}
catch(e) {
    console.error("Exception: " + e.message);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.p2jcmd.prototype.start" id="apidoc.element.pdf2json.p2jcmd.prototype.start">
        function <span class="apidocSignatureSpan">pdf2json.p2jcmd.prototype.</span>start
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (){
    if (!this.initialize()) {
        console.timeEnd(_PRO_TIMER);
        return;
    }

    try {
        console.log("\n" + _PRO_TIMER);

        let inputStatus = fs.statSync(argv.f);

        if (inputStatus.isFile()) {
            this.processOneFile();
        }
        else if (inputStatus.isDirectory()) {
            this.processOneDirectory();
        }
    }
    catch(e) {
        console.error("Exception: " + e.message);
        console.timeEnd(_PRO_TIMER);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...




'use strict';

var P2JCMD = require('./lib/p2jcmd');
new P2JCMD().<span class="apidocCodeKeywordSpan">start</span>();
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdf" id="apidoc.module.pdf2json.pdf">module pdf2json.pdf</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdf.pdf" id="apidoc.element.pdf2json.pdf.pdf">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdf
        <span class="apidocSignatureSpan">(needRawText)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdf = function (needRawText) {
    nodeEvents.EventEmitter.call(this);
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = () =&gt; _id;
    this.get_name = () =&gt; _name + _id;

    // public, this instance copies
    this.pdfDocument = null;
    this.pages = [];
    this.pageWidth = 0;
    this.rawTextContents = [];

    this.needRawText = needRawText;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdf.super_" id="apidoc.element.pdf2json.pdf.super_">
        function <span class="apidocSignatureSpan">pdf2json.pdf.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdf.prototype" id="apidoc.module.pdf2json.pdf.prototype">module pdf2json.pdf.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdf.prototype.destroy" id="apidoc.element.pdf2json.pdf.prototype.destroy">
        function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function () {
    this.removeAllListeners();

    if (this.pdfDocument)
        this.pdfDocument.destroy();
    this.pdfDocument = null;

    this.pages = null;
    this.rawTextContents = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.inputDir = null;
    this.inputFile = null;
    this.inputPath = null;
    this.outputDir = null;
    this.outputPath = null;

    if (this.pdfParser) {
        this.pdfParser.<span class="apidocCodeKeywordSpan">destroy</span>();
    }
    this.pdfParser = null;
    this.curProcessor = null;
};

cls.prototype.processFile = function(callback) {
    let validateMsg = this.validateParams();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdf.prototype.getAllFieldsTypes" id="apidoc.element.pdf2json.pdf.prototype.getAllFieldsTypes">
        function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>getAllFieldsTypes
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAllFieldsTypes = function () {
		return PDFField.getAllFieldsTypes({Pages:this.pages || [], Width: this.pageWidth});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    let fs = require('fs'),
        PDFParser = require("pdf2json");

    let pdfParser = new PDFParser();

    pdfParser.on("pdfParser_dataError", errData =&gt; console.error(errData.parserError) );
    pdfParser.on("pdfParser_dataReady", pdfData =&gt; {
        fs.writeFile("./pdf2json/test/F1040EZ.fields.json", JSON.stringify(pdfParser.<span class="apidocCodeKeywordSpan
">getAllFieldsTypes</span>()));
    });

    pdfParser.loadPDF("./pdf2json/test/pdf/fd/form/F1040EZ.pdf");
````

Alternatively, you can pipe input and output streams: (requires v1.1.4)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdf.prototype.getMergedTextBlocksIfNeeded" id="apidoc.element.pdf2json.pdf.prototype.getMergedTextBlocksIfNeeded">
        function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>getMergedTextBlocksIfNeeded
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getMergedTextBlocksIfNeeded = function () {
		for (let p = 0; p &lt; this.pages.length; p++) {
			let prevText = null;
			let page = this.pages[p];

			page.Texts.sort(PDFFont.compareBlockPos);
			page.Texts = page.Texts.filter( (t, j) =&gt; {
				let isDup = (j &gt; 0) &amp;&amp; PDFFont.areDuplicateBlocks(page.Texts[j-1], t);
				if (isDup) {
					nodeUtil.p2jinfo("skipped: dup text block: " + decodeURIComponent(t.R[0].T));
				}
				return !isDup;
			});

			for (let i = 0; i &lt; page.Texts.length; i++) {
				let text = page.Texts[i];

				if (prevText) {
					if (PDFFont.areAdjacentBlocks(prevText, text) &amp;&amp; PDFFont.haveSameStyle(prevText, text)) {
						let preT = decodeURIComponent(prevText.R[0].T);
						let curT = decodeURIComponent(text.R[0].T);

						prevText.R[0].T += text.R[0].T;
                        prevText.w += text.w;
                        text.merged = true;

						let mergedText = decodeURIComponent(prevText.R[0].T);
                        nodeUtil.p2jinfo(`merged text block: ${preT} + ${curT} =&gt; ${mergedText}`);
						prevText = null; //yeah, only merge two blocks for now
					}
					else {
						prevText = text;
					}
				}
				else {
					prevText = text;
				}
			}

			page.Texts = page.Texts.filter( t =&gt; !t.merged);
		}

		return {Pages:this.pages, Width: this.pageWidth};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdf.prototype.getRawTextContent" id="apidoc.element.pdf2json.pdf.prototype.getRawTextContent">
        function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>getRawTextContent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getRawTextContent = function () {
    let retVal = "";
    if (!this.needRawText)
        return retVal;

    _.each(this.rawTextContents, function(textContent, index) {
        let prevText = null;
        _.each(textContent.bidiTexts, function(textObj, idx) {
	            if (prevText) {
		            if (Math.abs(textObj.y - prevText.y) &lt;= 9) {
			            prevText.str += textObj.str;
		            }
		            else {
			            retVal += prevText.str  + "\r\n";
			            prevText = textObj;
		            }
	            }
	            else {
		            prevText = textObj;
	            }

        });
	        if (prevText) {
		        retVal += prevText.str;
	        }
        retVal += "\r\n----------------Page (" + index + ") Break----------------\r\n";
    });

    return retVal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    let fs = require('fs'),
        PDFParser = require("pdf2json");

    let pdfParser = new PDFParser(this,1);

    pdfParser.on("pdfParser_dataError", errData =&gt; console.error(errData.parserError) );
    pdfParser.on("pdfParser_dataReady", pdfData =&gt; {
        fs.writeFile("./pdf2json/test/F1040EZ.content.txt", pdfParser.<span class="apidocCodeKeywordSpan">getRawTextContent
</span>());
    });

    pdfParser.loadPDF("./pdf2json/test/pdf/fd/form/F1040EZ.pdf");
````

* Parse a PDF then write a fields.json file that only contains interactive forms' fields information:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdf.prototype.load" id="apidoc.element.pdf2json.pdf.prototype.load">
        function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>load
        <span class="apidocSignatureSpan">(pdfDocument, scale)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">load = function (pdfDocument, scale) {
    this.pdfDocument = pdfDocument;

	    return this.loadMetaData().then(
		    () =&gt; this.loadPages(),
			error =&gt; this.raiseErrorEvent("loadMetaData error: " + error)
	    );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


cls.prototype.parsePDFData = function(arrayBuffer) {
    this.pdfDocument = null;

    let parameters = {password: '', data: arrayBuffer};
    PDFJS.getDocument(parameters).then(
        pdfDocument =&gt; this.<span class="apidocCodeKeywordSpan">load</span>(pdfDocument, 1),
        error =&gt; this.raiseErrorEvent("An error occurred while parsing the PDF: " + error)
    );
};

cls.prototype.tryLoadFieldInfoXML = function(pdfFilePath) {
    let fieldInfoXMLPath = pdfFilePath.replace(".pdf", _sufInfo);
    if ((fieldInfoXMLPath.indexOf(_sufInfo) &lt; 1) || (!fs.existsSync(fieldInfoXMLPath))) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdf.prototype.loadMetaData" id="apidoc.element.pdf2json.pdf.prototype.loadMetaData">
        function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>loadMetaData
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">loadMetaData = function () {
		return this.pdfDocument.getMetadata().then(
			data =&gt; {
				this.documentInfo = data.info;
				this.metadata = data.metadata;
				this.parseMetaData();
			},
			error =&gt; this.raiseErrorEvent("pdfDocument.getMetadata error: " + error)
		);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            }
        });
    };

    cls.prototype.load = function(pdfDocument, scale) {
        this.pdfDocument = pdfDocument;

	    return this.<span class="apidocCodeKeywordSpan">loadMetaData</span>().then(
		    () =&gt; this.loadPages(),
			error =&gt; this.raiseErrorEvent("loadMetaData error: " + error)
	    );
    };

	cls.prototype.loadMetaData = function() {
		return this.pdfDocument.getMetadata().then(
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdf.prototype.loadPages" id="apidoc.element.pdf2json.pdf.prototype.loadPages">
        function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>loadPages
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">loadPages = function () {
		let pagesCount = this.pdfDocument.numPages;
		let pagePromises = [];
		for (let i = 1; i &lt;= pagesCount; i++)
			pagePromises.push(this.pdfDocument.getPage(i));

		let pagesPromise = PDFJS.Promise.all(pagePromises);

		nodeUtil.p2jinfo("PDF loaded. pagesCount = " + pagesCount);

		return pagesPromise.then(
			promisedPages =&gt; this.parsePage(promisedPages, 0, 1.5),
			error =&gt; this.raiseErrorEvent("pagesPromise error: " + error)
		);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        });
    };

    cls.prototype.load = function(pdfDocument, scale) {
        this.pdfDocument = pdfDocument;

	    return this.loadMetaData().then(
		    () =&gt; this.<span class="apidocCodeKeywordSpan">loadPages</span>(),
			error =&gt; this.raiseErrorEvent("loadMetaData error: " + error)
	    );
    };

	cls.prototype.loadMetaData = function() {
		return this.pdfDocument.getMetadata().then(
			data =&gt; {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdf.prototype.parseMetaData" id="apidoc.element.pdf2json.pdf.prototype.parseMetaData">
        function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>parseMetaData
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseMetaData = function () {
    let info = this.documentInfo;
    let metadata = this.metadata;

    let pdfTile = "";
    if (metadata &amp;&amp; metadata.has('dc:title')) {
        pdfTile = metadata.get('dc:title');
    }
    else if (info &amp;&amp; info['Title'])
        pdfTile = info['Title'];

    let formAttr = {AgencyId:"", Name: "", MC: false, Max: 1, Parent:""};
    if (metadata) {
        formAttr.AgencyId = _getMetaDataString(metadata, 'pdfx:agencyid');
        if (formAttr.AgencyId != "unknown")
            pdfTile = formAttr.AgencyId;

        formAttr.Name = _getMetaDataString(metadata, 'pdfx:name');
        formAttr.MC = _getMetaDataString(metadata, 'pdfx:mc') === 'true';
        formAttr.Max = _getMetaDataInt(metadata, 'pdfx:max');
        formAttr.Parent = _getMetaDataInt(metadata, 'pdfx:parent');
    }

    this.raiseReadyEvent({Transcoder: _PARSER_SIG, Agency:pdfTile, Id: formAttr});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

	cls.prototype.loadMetaData = function() {
		return this.pdfDocument.getMetadata().then(
			data =&gt; {
				this.documentInfo = data.info;
				this.metadata = data.metadata;
				this.<span class="apidocCodeKeywordSpan">parseMetaData</span>();
			},
			error =&gt; this.raiseErrorEvent("pdfDocument.getMetadata error: " + error)
		);
	};

cls.prototype.parseMetaData = function() {
    let info = this.documentInfo;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdf.prototype.parsePDFData" id="apidoc.element.pdf2json.pdf.prototype.parsePDFData">
        function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>parsePDFData
        <span class="apidocSignatureSpan">(arrayBuffer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parsePDFData = function (arrayBuffer) {
    this.pdfDocument = null;

    let parameters = {password: '', data: arrayBuffer};
    PDFJS.getDocument(parameters).then(
        pdfDocument =&gt; this.load(pdfDocument, 1),
        error =&gt; this.raiseErrorEvent("An error occurred while parsing the PDF: " + error)
    );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdf.prototype.parsePage" id="apidoc.element.pdf2json.pdf.prototype.parsePage">
        function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>parsePage
        <span class="apidocSignatureSpan">(promisedPages, id, scale)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parsePage = function (promisedPages, id, scale) {
    nodeUtil.p2jinfo("start to parse page:" + (id+1));

    let pdfPage = promisedPages[id];
    let pageParser = new PDFPageParser(pdfPage, id, scale, this.ptiParser);

    function continueOnNextPage() {
        nodeUtil.p2jinfo("complete parsing page:" + (id+1));
        if (id === (this.pdfDocument.numPages - 1) ) {
	            this.raiseReadyEvent({Pages:this.pages, Width: this.pageWidth});

	            //v1.1.2: signal end of parsed data with null
	            process.nextTick(() =&gt; this.raiseReadyEvent(null));
        }
        else {
            process.nextTick(() =&gt; this.parsePage(promisedPages, ++id, scale));
        }
    }

    pageParser.parsePage(
	        data =&gt; {
	            if (!this.pageWidth)  //get PDF width
	                this.pageWidth = pageParser.width;

	            let page = {Height: pageParser.height,
	                HLines: pageParser.HLines,
	                VLines: pageParser.VLines,
	                Fills:pageParser.Fills,
	//needs to keep current default output format, text content will output to a separate file if '-c' command line argument is set
	//                Content:pdfPage.getTextContent(),
	                Texts: pageParser.Texts,
	                Fields: pageParser.Fields,
	                Boxsets: pageParser.Boxsets
	            };

	            this.pages.push(page);

	            if (this.needRawText) {
	                pdfPage.getTextContent().then(
			            textContent =&gt; {
	                        this.rawTextContents.push(textContent);
	                        nodeUtil.p2jinfo("complete parsing raw text content:" + (id+1));
	                        continueOnNextPage.call(this);
	                    },
                    error =&gt; this.raiseErrorEvent("pdfPage.getTextContent error: " + error)
	                );
	            }
	            else {
		            continueOnNextPage.call(this);
	            }
	        },
	        errMsg =&gt; this.raiseErrorEvent("parsePage error:" + errMsg)
    );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			pagePromises.push(this.pdfDocument.getPage(i));

		let pagesPromise = PDFJS.Promise.all(pagePromises);

		nodeUtil.p2jinfo("PDF loaded. pagesCount = " + pagesCount);

		return pagesPromise.then(
			promisedPages =&gt; this.<span class="apidocCodeKeywordSpan">parsePage</span>(promisedPages, 0, 1.5),
			error =&gt; this.raiseErrorEvent("pagesPromise error: " + error)
		);
	};

cls.prototype.parsePage = function(promisedPages, id, scale) {
    nodeUtil.p2jinfo("start to parse page:" + (id+1));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdf.prototype.raiseErrorEvent" id="apidoc.element.pdf2json.pdf.prototype.raiseErrorEvent">
        function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>raiseErrorEvent
        <span class="apidocSignatureSpan">(errMsg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">raiseErrorEvent = function (errMsg) {
    console.error(errMsg);
    process.nextTick( () =&gt; this.emit("pdfjs_parseDataError", errMsg));
    return errMsg;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

cls.prototype.parsePDFData = function(arrayBuffer) {
    this.pdfDocument = null;

    let parameters = {password: '', data: arrayBuffer};
    PDFJS.getDocument(parameters).then(
        pdfDocument =&gt; this.load(pdfDocument, 1),
        error =&gt; this.<span class="apidocCodeKeywordSpan">raiseErrorEvent</span>("An error occurred while parsing the
PDF: " + error)
    );
};

cls.prototype.tryLoadFieldInfoXML = function(pdfFilePath) {
    let fieldInfoXMLPath = pdfFilePath.replace(".pdf", _sufInfo);
    if ((fieldInfoXMLPath.indexOf(_sufInfo) &lt; 1) || (!fs.existsSync(fieldInfoXMLPath))) {
        return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdf.prototype.raiseReadyEvent" id="apidoc.element.pdf2json.pdf.prototype.raiseReadyEvent">
        function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>raiseReadyEvent
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">raiseReadyEvent = function (data) {
    process.nextTick( () =&gt; this.emit("pdfjs_parseDataReady", data) );
    return data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

            formAttr.Name = _getMetaDataString(metadata, 'pdfx:name');
            formAttr.MC = _getMetaDataString(metadata, 'pdfx:mc') === 'true';
            formAttr.Max = _getMetaDataInt(metadata, 'pdfx:max');
            formAttr.Parent = _getMetaDataInt(metadata, 'pdfx:parent');
        }

        this.<span class="apidocCodeKeywordSpan">raiseReadyEvent</span>({Transcoder: _PARSER_SIG, Agency:pdfTile, Id: formAttr});
    };

	cls.prototype.loadPages = function() {
		let pagesCount = this.pdfDocument.numPages;
		let pagePromises = [];
		for (let i = 1; i &lt;= pagesCount; i++)
			pagePromises.push(this.pdfDocument.getPage(i));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdf.prototype.tryLoadFieldInfoXML" id="apidoc.element.pdf2json.pdf.prototype.tryLoadFieldInfoXML">
        function <span class="apidocSignatureSpan">pdf2json.pdf.prototype.</span>tryLoadFieldInfoXML
        <span class="apidocSignatureSpan">(pdfFilePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tryLoadFieldInfoXML = function (pdfFilePath) {
    let fieldInfoXMLPath = pdfFilePath.replace(".pdf", _sufInfo);
    if ((fieldInfoXMLPath.indexOf(_sufInfo) &lt; 1) || (!fs.existsSync(fieldInfoXMLPath))) {
        return;
    }
    nodeUtil.p2jinfo("About to load fieldInfo XML : " + fieldInfoXMLPath);

    let PTIXmlParser = require('./ptixmlinject');
    this.ptiParser = new PTIXmlParser();
    this.ptiParser.parseXml(fieldInfoXMLPath, err =&gt; {
        if (err) {
            nodeUtil.p2jwarn("fieldInfo XML Error: " + JSON.stringify(err));
            this.ptiParser = null;
        }
        else {
            nodeUtil.p2jinfo("fieldInfo XML loaded.");
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdfanno" id="apidoc.module.pdf2json.pdfanno">module pdf2json.pdfanno</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdfanno.pdfanno" id="apidoc.element.pdf2json.pdfanno.pdfanno">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdfanno
        <span class="apidocSignatureSpan">(field, viewport, Fields, Boxsets)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdfanno = function (field, viewport, Fields, Boxsets) {
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = function () {
        return _id;
    };
    this.get_name = function () {
        return _name + _id;
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfanno.processAnnotation" id="apidoc.element.pdf2json.pdfanno.processAnnotation">
        function <span class="apidocSignatureSpan">pdf2json.pdfanno.</span>processAnnotation
        <span class="apidocSignatureSpan">(annotation, item)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processAnnotation = function (annotation, item) {
    if (item.fieldType == 'Btn') { //PDF Spec p.675
        if (item.fieldFlags &amp; 32768) {
            setupRadioButton(annotation, item);
        }
        else if (item.fieldFlags &amp; 65536) {
            setupPushButton(annotation, item);
        }
        else {
            setupCheckBox(annotation, item);
        }
    }
    else if (item.fieldType == 'Ch') {
        setupDropDown(annotation, item);
    }
    else if (item.fieldType == 'Tx') {
        setupFieldAttributes(annotation, item);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdfanno.prototype" id="apidoc.module.pdf2json.pdfanno.prototype">module pdf2json.pdfanno.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdfanno.prototype.clean" id="apidoc.element.pdf2json.pdfanno.prototype.clean">
        function <span class="apidocSignatureSpan">pdf2json.pdfanno.prototype.</span>clean
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clean = function () {
    delete this.get_id;
    delete this.get_name;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    console.warn("to be implemented: contextPrototype.measureText - ", text);
    let chars = text.length || 1;
    return {width: chars * (this.currentFont.spaceWidth || 5)};
};

contextPrototype.setFont = function(fontObj) {
    if ((!!this.currentFont) &amp;&amp; _.isFunction(this.currentFont.clean)) {
        this.currentFont.<span class="apidocCodeKeywordSpan">clean</span>();
        this.currentFont = null;
    }

    this.currentFont = new PDFFont(fontObj);
};

contextPrototype.clearRect = function () {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdfcanvas" id="apidoc.module.pdf2json.pdfcanvas">module pdf2json.pdfcanvas</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.pdfcanvas" id="apidoc.element.pdf2json.pdfcanvas.pdfcanvas">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdfcanvas
        <span class="apidocSignatureSpan">(canvasTarget, scaledWidth, scaledHeight)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CanvasRenderingContext2D_(canvasTarget, scaledWidth, scaledHeight) {
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = function() { return _id; };
    this.get_name = function() { return _name + _id; };

    this.m_ = createMatrixIdentity();

    this.mStack_ = [];
    this.aStack_ = [];
    this.currentPath_ = [];

    // Canvas context properties
    this.strokeStyle = '#000';
    this.fillStyle = '#000';

    this.lineWidth = 1;
    this.lineJoin = 'miter';
    this.lineCap = 'butt';
    this.dashArray = [];
    this.miterLimit = 1;
    this.globalAlpha = 1;

    if (!_.has(canvasTarget, "HLines") || !_.isArray(canvasTarget.HLines))
        canvasTarget.HLines = [];
    if (!_.has(canvasTarget, "VLines") || !_.isArray(canvasTarget.VLines))
        canvasTarget.VLines = [];
    if (!_.has(canvasTarget, "Fills") || !_.isArray(canvasTarget.Fills))
        canvasTarget.Fills = [];
    if (!_.has(canvasTarget, "Texts") || !_.isArray(canvasTarget.Texts))
        canvasTarget.Texts = [];

    this.canvas = canvasTarget;

    this.width = scaledWidth;
    this.height = scaledHeight;

    this.arcScaleX_ = 1;
    this.arcScaleY_ = 1;
    this.lineScale_ = 1;

    this.currentFont = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdfcanvas.prototype" id="apidoc.module.pdf2json.pdfcanvas.prototype">module pdf2json.pdfcanvas.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.arc" id="apidoc.element.pdf2json.pdfcanvas.prototype.arc">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>arc
        <span class="apidocSignatureSpan">(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">arc = function (aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {
    let arcType = aClockwise ? 'at' : 'wa';

    let xStart = aX + mc(aStartAngle) * aRadius;
    let yStart = aY + ms(aStartAngle) * aRadius;

    let xEnd = aX + mc(aEndAngle) * aRadius;
    let yEnd = aY + ms(aEndAngle) * aRadius;

    // IE won't render arches drawn counter clockwise if xStart == xEnd.
    if (xStart == xEnd &amp;&amp; !aClockwise) {
        xStart += 0.125; // Offset xStart by 1/80 of a pixel. Use something
        // that can be represented in binary
    }

    let p = this.getCoords_(aX, aY);
    let pStart = this.getCoords_(xStart, yStart);
    let pEnd = this.getCoords_(xEnd, yEnd);

    this.currentPath_.push({type:arcType,
        x:p.x,
        y:p.y,
        radius:aRadius,
        xStart:pStart.x,
        yStart:pStart.y,
        xEnd:pEnd.x,
        yEnd:pEnd.y});

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.arcTo" id="apidoc.element.pdf2json.pdfcanvas.prototype.arcTo">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>arcTo
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">arcTo = function () {
    // TODO: Implement
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.beginPath" id="apidoc.element.pdf2json.pdfcanvas.prototype.beginPath">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>beginPath
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">beginPath = function () {
    // TODO: Branch current matrix so that save/restore has no effect
    //       as per safari docs.
    this.currentPath_ = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    contextPrototype.strokeRect = function (aX, aY, aWidth, aHeight) {
if (_needRemoveRect.call(this, aX, aY, aWidth, aHeight)) {
    return;//try to remove the rectangle behind radio buttons and checkboxes
}

let oldPath = this.currentPath_;
this.<span class="apidocCodeKeywordSpan">beginPath</span>();

this.moveTo(aX, aY);
this.lineTo(aX + aWidth, aY);
this.lineTo(aX + aWidth, aY + aHeight);
this.lineTo(aX, aY + aHeight);
this.closePath();
this.stroke();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.bezierCurveTo" id="apidoc.element.pdf2json.pdfcanvas.prototype.bezierCurveTo">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>bezierCurveTo
        <span class="apidocSignatureSpan">(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bezierCurveTo = function (aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {
    let p = this.getCoords_(aX, aY);
    let cp1 = this.getCoords_(aCP1x, aCP1y);
    let cp2 = this.getCoords_(aCP2x, aCP2y);
    bezierCurveTo(this, cp1, cp2, p);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.clearRect" id="apidoc.element.pdf2json.pdfcanvas.prototype.clearRect">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>clearRect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearRect = function () {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.clip" id="apidoc.element.pdf2json.pdfcanvas.prototype.clip">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>clip
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clip = function () {
    // TODO: Implement
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.closePath" id="apidoc.element.pdf2json.pdfcanvas.prototype.closePath">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>closePath
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">closePath = function () {
    this.currentPath_.push({type:'close'});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        return;//try to remove the rectangle behind radio buttons and checkboxes
    }

    this.moveTo(aX, aY);
    this.lineTo(aX + aWidth, aY);
    this.lineTo(aX + aWidth, aY + aHeight);
    this.lineTo(aX, aY + aHeight);
    this.<span class="apidocCodeKeywordSpan">closePath</span>();
};

contextPrototype.strokeRect = function (aX, aY, aWidth, aHeight) {
    if (_needRemoveRect.call(this, aX, aY, aWidth, aHeight)) {
        return;//try to remove the rectangle behind radio buttons and checkboxes
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.createLinearGradient" id="apidoc.element.pdf2json.pdfcanvas.prototype.createLinearGradient">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>createLinearGradient
        <span class="apidocSignatureSpan">(aX0, aY0, aX1, aY1)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createLinearGradient = function (aX0, aY0, aX1, aY1) {
    let gradient = new CanvasGradient_('gradient');
    gradient.x0_ = aX0;
    gradient.y0_ = aY0;
    gradient.x1_ = aX1;
    gradient.y1_ = aY1;
    return gradient;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.createPattern" id="apidoc.element.pdf2json.pdfcanvas.prototype.createPattern">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>createPattern
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createPattern = function () {
    return new CanvasPattern_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.createRadialGradient" id="apidoc.element.pdf2json.pdfcanvas.prototype.createRadialGradient">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>createRadialGradient
        <span class="apidocSignatureSpan">(aX0, aY0, aR0, aX1, aY1, aR1)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createRadialGradient = function (aX0, aY0, aR0, aX1, aY1, aR1) {
    let gradient = new CanvasGradient_('gradientradial');
    gradient.x0_ = aX0;
    gradient.y0_ = aY0;
    gradient.r0_ = aR0;
    gradient.x1_ = aX1;
    gradient.y1_ = aY1;
    gradient.r1_ = aR1;
    return gradient;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.drawImage" id="apidoc.element.pdf2json.pdfcanvas.prototype.drawImage">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>drawImage
        <span class="apidocSignatureSpan">(image, var_args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">drawImage = function (image, var_args) {
    //MQZ. no image drawing support for now
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.fill" id="apidoc.element.pdf2json.pdfcanvas.prototype.fill">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>fill
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fill = function () {
    this.stroke(true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.beginPath();

    this.moveTo(aX, aY);
    this.lineTo(aX + aWidth, aY);
    this.lineTo(aX + aWidth, aY + aHeight);
    this.lineTo(aX, aY + aHeight);
    this.closePath();
    this.<span class="apidocCodeKeywordSpan">fill</span>();

    this.currentPath_ = oldPath;
};

contextPrototype.createLinearGradient = function (aX0, aY0, aX1, aY1) {
    let gradient = new CanvasGradient_('gradient');
    gradient.x0_ = aX0;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.fillRect" id="apidoc.element.pdf2json.pdfcanvas.prototype.fillRect">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>fillRect
        <span class="apidocSignatureSpan">(aX, aY, aWidth, aHeight)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fillRect = function (aX, aY, aWidth, aHeight) {
    if (_needRemoveRect.call(this, aX, aY, aWidth, aHeight)) {
        return;//try to remove the rectangle behind radio buttons and checkboxes
    }

    let oldPath = this.currentPath_;
    this.beginPath();

    this.moveTo(aX, aY);
    this.lineTo(aX + aWidth, aY);
    this.lineTo(aX + aWidth, aY + aHeight);
    this.lineTo(aX, aY + aHeight);
    this.closePath();
    this.fill();

    this.currentPath_ = oldPath;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.fillText" id="apidoc.element.pdf2json.pdfcanvas.prototype.fillText">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>fillText
        <span class="apidocSignatureSpan">(text, x, y, maxWidth, fontSize)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fillText = function (text, x, y, maxWidth, fontSize) {
    if (!text || text.trim().length &lt; 1)
        return;
    let p = this.getCoords_(x, y);

    let a = processStyle(this.fillStyle || this.strokeStyle);
    let color = (!!a) ? a.color : '#000000';

    this.currentFont.processText(p, text, maxWidth, color, fontSize, this.canvas, this.m_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    let color = (!!a) ? a.color : '#000000';

    this.currentFont.processText(p, text, maxWidth, color, fontSize, this.canvas, this.m_);
};

contextPrototype.strokeText = function(text, x, y, maxWidth) {
    //MQZ. 10/23/2012, yeah, no hollow text for now
    this.<span class="apidocCodeKeywordSpan">fillText</span>(text, x, y, maxWidth);
};

contextPrototype.measureText = function(text) {
    console.warn("to be implemented: contextPrototype.measureText - ", text);
    let chars = text.length || 1;
    return {width: chars * (this.currentFont.spaceWidth || 5)};
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.getContext" id="apidoc.element.pdf2json.pdfcanvas.prototype.getContext">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>getContext
        <span class="apidocSignatureSpan">(ctxType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getContext = function (ctxType) {
    return (ctxType === "2d") ? this : null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    cls.prototype.parsePage = function(callback, errorCallBack) {
        if (this.renderingState !== RenderingStates.INITIAL)
          error('Must be in new state before drawing');

        this.renderingState = RenderingStates.RUNNING;

        let canvas = createScratchCanvas(1, 1);
        let ctx = canvas.<span class="apidocCodeKeywordSpan">getContext</span>('2d');

        function pageViewDrawCallback(error) {
this.renderingState = RenderingStates.FINISHED;

if (error) {
    let errMsg = 'An error occurred while rendering the page ' + (this.id + 1) +
        ':\n' + error.message +
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.getCoords_" id="apidoc.element.pdf2json.pdfcanvas.prototype.getCoords_">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>getCoords_
        <span class="apidocSignatureSpan">(aX, aY)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCoords_ = function (aX, aY) {
    let m = this.m_;
    return {
        x: (aX * m[0][0] + aY * m[1][0] + m[2][0]),
        y: (aX * m[0][1] + aY * m[1][1] + m[2][1])
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
contextPrototype.getLineDash= function() {
    return this.dashArray;
};

contextPrototype.fillText = function(text, x, y, maxWidth, fontSize) {
    if (!text || text.trim().length &lt; 1)
        return;
    let p = this.<span class="apidocCodeKeywordSpan">getCoords_</span>(x, y);

    let a = processStyle(this.fillStyle || this.strokeStyle);
    let color = (!!a) ? a.color : '#000000';

    this.currentFont.processText(p, text, maxWidth, color, fontSize, this.canvas, this.m_);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.getImageData" id="apidoc.element.pdf2json.pdfcanvas.prototype.getImageData">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>getImageData
        <span class="apidocSignatureSpan">(x, y, w, h)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getImageData = function (x, y, w, h) {
    //MQZ. returns empty data buffer for now
    return {
        width:w,
        height:h,
        data:new Uint8Array(w * h * 4)
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.getLineDash" id="apidoc.element.pdf2json.pdfcanvas.prototype.getLineDash">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>getLineDash
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLineDash = function () {
    return this.dashArray;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.lineTo" id="apidoc.element.pdf2json.pdfcanvas.prototype.lineTo">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>lineTo
        <span class="apidocSignatureSpan">(aX, aY)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lineTo = function (aX, aY) {
    let p = this.getCoords_(aX, aY);
    this.currentPath_.push({type:'lineTo', x:p.x, y:p.y});

    this.currentX_ = p.x;
    this.currentY_ = p.y;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

contextPrototype.rect = function (aX, aY, aWidth, aHeight) {
    if (_needRemoveRect.call(this, aX, aY, aWidth, aHeight)) {
        return;//try to remove the rectangle behind radio buttons and checkboxes
    }

    this.moveTo(aX, aY);
    this.<span class="apidocCodeKeywordSpan">lineTo</span>(aX + aWidth, aY);
    this.lineTo(aX + aWidth, aY + aHeight);
    this.lineTo(aX, aY + aHeight);
    this.closePath();
};

contextPrototype.strokeRect = function (aX, aY, aWidth, aHeight) {
    if (_needRemoveRect.call(this, aX, aY, aWidth, aHeight)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.measureText" id="apidoc.element.pdf2json.pdfcanvas.prototype.measureText">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>measureText
        <span class="apidocSignatureSpan">(text)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">measureText = function (text) {
    console.warn("to be implemented: contextPrototype.measureText - ", text);
    let chars = text.length || 1;
    return {width: chars * (this.currentFont.spaceWidth || 5)};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.moveTo" id="apidoc.element.pdf2json.pdfcanvas.prototype.moveTo">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>moveTo
        <span class="apidocSignatureSpan">(aX, aY)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">moveTo = function (aX, aY) {
    let p = this.getCoords_(aX, aY);
    this.currentPath_.push({type:'moveTo', x:p.x, y:p.y});
    this.currentX_ = p.x;
    this.currentY_ = p.y;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

contextPrototype.rect = function (aX, aY, aWidth, aHeight) {
    if (_needRemoveRect.call(this, aX, aY, aWidth, aHeight)) {
        return;//try to remove the rectangle behind radio buttons and checkboxes
    }

    this.<span class="apidocCodeKeywordSpan">moveTo</span>(aX, aY);
    this.lineTo(aX + aWidth, aY);
    this.lineTo(aX + aWidth, aY + aHeight);
    this.lineTo(aX, aY + aHeight);
    this.closePath();
};

contextPrototype.strokeRect = function (aX, aY, aWidth, aHeight) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.quadraticCurveTo" id="apidoc.element.pdf2json.pdfcanvas.prototype.quadraticCurveTo">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>quadraticCurveTo
        <span class="apidocSignatureSpan">(aCPx, aCPy, aX, aY)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">quadraticCurveTo = function (aCPx, aCPy, aX, aY) {
    // the following is lifted almost directly from
    // http://developer.mozilla.org/en/docs/Canvas_tutorial:Drawing_shapes

    let cp = this.getCoords_(aCPx, aCPy);
    let p = this.getCoords_(aX, aY);

    let cp1 = {
        x:this.currentX_ + 2.0 / 3.0 * (cp.x - this.currentX_),
        y:this.currentY_ + 2.0 / 3.0 * (cp.y - this.currentY_)
    };
    let cp2 = {
        x:cp1.x + (p.x - this.currentX_) / 3.0,
        y:cp1.y + (p.y - this.currentY_) / 3.0
    };

    bezierCurveTo(this, cp1, cp2, p);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.rect" id="apidoc.element.pdf2json.pdfcanvas.prototype.rect">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>rect
        <span class="apidocSignatureSpan">(aX, aY, aWidth, aHeight)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rect = function (aX, aY, aWidth, aHeight) {
    if (_needRemoveRect.call(this, aX, aY, aWidth, aHeight)) {
        return;//try to remove the rectangle behind radio buttons and checkboxes
    }

    this.moveTo(aX, aY);
    this.lineTo(aX + aWidth, aY);
    this.lineTo(aX + aWidth, aY + aHeight);
    this.lineTo(aX, aY + aHeight);
    this.closePath();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.restore" id="apidoc.element.pdf2json.pdfcanvas.prototype.restore">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>restore
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">restore = function () {
    copyState(this.aStack_.pop(), this);
    this.m_ = this.mStack_.pop();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.rotate" id="apidoc.element.pdf2json.pdfcanvas.prototype.rotate">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>rotate
        <span class="apidocSignatureSpan">(aRot)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rotate = function (aRot) {
    let c = mc(aRot);
    let s = ms(aRot);

    let m1 = [
        [c, s, 0],
        [-s, c, 0],
        [0, 0, 1]
    ];

    setM(this, matrixMultiply(m1, this.m_), false);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.save" id="apidoc.element.pdf2json.pdfcanvas.prototype.save">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>save
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">save = function () {
    let o = {};
    copyState(this, o);
    this.aStack_.push(o);
    this.mStack_.push(this.m_);
    this.m_ = matrixMultiply(createMatrixIdentity(), this.m_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.scale" id="apidoc.element.pdf2json.pdfcanvas.prototype.scale">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>scale
        <span class="apidocSignatureSpan">(aX, aY)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">scale = function (aX, aY) {
    this.arcScaleX_ *= aX;
    this.arcScaleY_ *= aY;
    let m1 = [
        [aX, 0, 0],
        [0, aY, 0],
        [0, 0, 1]
    ];

    setM(this, matrixMultiply(m1, this.m_), true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.setFont" id="apidoc.element.pdf2json.pdfcanvas.prototype.setFont">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>setFont
        <span class="apidocSignatureSpan">(fontObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setFont = function (fontObj) {
    if ((!!this.currentFont) &amp;&amp; _.isFunction(this.currentFont.clean)) {
        this.currentFont.clean();
        this.currentFont = null;
    }

    this.currentFont = new PDFFont(fontObj);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.setLineDash" id="apidoc.element.pdf2json.pdfcanvas.prototype.setLineDash">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>setLineDash
        <span class="apidocSignatureSpan">(lineDash)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setLineDash = function (lineDash) {
    this.dashArray = lineDash;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.setTransform" id="apidoc.element.pdf2json.pdfcanvas.prototype.setTransform">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>setTransform
        <span class="apidocSignatureSpan">(m11, m12, m21, m22, dx, dy)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setTransform = function (m11, m12, m21, m22, dx, dy) {
    let m = [
        [m11, m12, 0],
        [m21, m22, 0],
        [dx, dy, 1]
    ];

    setM(this, m, true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.stroke" id="apidoc.element.pdf2json.pdfcanvas.prototype.stroke">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>stroke
        <span class="apidocSignatureSpan">(aFill)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stroke = function (aFill) {
    if (this.currentPath_.length &lt; 2) {
        return;
    }

    let a = processStyle(aFill ? this.fillStyle : this.strokeStyle);
    let color = a.color;
//        let opacity = a.alpha * this.globalAlpha;
    let lineWidth = this.lineScale_ * this.lineWidth;

    let min = {x:null, y:null};
    let max = {x:null, y:null};

    for (let i = 0; i &lt; this.currentPath_.length; i++) {
        let p = this.currentPath_[i];

        switch (p.type) {
            case 'moveTo':
                break;
            case 'lineTo':
                if (!aFill) { //lines
                    if (i &gt; 0) {
                        _drawPDFLine.call(this, this.currentPath_[i-1], p, lineWidth, color);
                    }
                }
                break;
            case 'close':
                if (!aFill) { //lines
                    if (i &gt; 0) {
                        _drawPDFLine.call(this, this.currentPath_[i-1], this.currentPath_[0], lineWidth, color);
                    }
                }
                p = null;
                break;
            case 'bezierCurveTo':
                break;
            case 'at':
            case 'wa':
                break;
        }

        // Figure out dimensions so we can set fills' coordinates correctly
        if (aFill &amp;&amp; p) {
            if (min.x == null || p.x &lt; min.x) {
                min.x = p.x;
            }
            if (max.x == null || p.x &gt; max.x) {
                max.x = p.x;
            }
            if (min.y == null || p.y &lt; min.y) {
                min.y = p.y;
            }
            if (max.y == null || p.y &gt; max.y) {
                max.y = p.y;
            }
        }
    }

    if (aFill) { //fill
        _drawPDFFill.call(this, min, min, max, color);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.beginPath();

    this.moveTo(aX, aY);
    this.lineTo(aX + aWidth, aY);
    this.lineTo(aX + aWidth, aY + aHeight);
    this.lineTo(aX, aY + aHeight);
    this.closePath();
    this.<span class="apidocCodeKeywordSpan">stroke</span>();

    this.currentPath_ = oldPath;
};

contextPrototype.fillRect = function (aX, aY, aWidth, aHeight) {
    if (_needRemoveRect.call(this, aX, aY, aWidth, aHeight)) {
        return;//try to remove the rectangle behind radio buttons and checkboxes
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.strokeRect" id="apidoc.element.pdf2json.pdfcanvas.prototype.strokeRect">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>strokeRect
        <span class="apidocSignatureSpan">(aX, aY, aWidth, aHeight)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">strokeRect = function (aX, aY, aWidth, aHeight) {
    if (_needRemoveRect.call(this, aX, aY, aWidth, aHeight)) {
        return;//try to remove the rectangle behind radio buttons and checkboxes
    }

    let oldPath = this.currentPath_;
    this.beginPath();

    this.moveTo(aX, aY);
    this.lineTo(aX + aWidth, aY);
    this.lineTo(aX + aWidth, aY + aHeight);
    this.lineTo(aX, aY + aHeight);
    this.closePath();
    this.stroke();

    this.currentPath_ = oldPath;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.strokeText" id="apidoc.element.pdf2json.pdfcanvas.prototype.strokeText">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>strokeText
        <span class="apidocSignatureSpan">(text, x, y, maxWidth)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">strokeText = function (text, x, y, maxWidth) {
    //MQZ. 10/23/2012, yeah, no hollow text for now
    this.fillText(text, x, y, maxWidth);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.transform" id="apidoc.element.pdf2json.pdfcanvas.prototype.transform">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>transform
        <span class="apidocSignatureSpan">(m11, m12, m21, m22, dx, dy)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">transform = function (m11, m12, m21, m22, dx, dy) {
    let m1 = [
        [m11, m12, 0],
        [m21, m22, 0],
        [dx, dy, 1]
    ];

    setM(this, matrixMultiply(m1, this.m_), true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfcanvas.prototype.translate" id="apidoc.element.pdf2json.pdfcanvas.prototype.translate">
        function <span class="apidocSignatureSpan">pdf2json.pdfcanvas.prototype.</span>translate
        <span class="apidocSignatureSpan">(aX, aY)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">translate = function (aX, aY) {
    let m1 = [
        [1, 0, 0],
        [0, 1, 0],
        [aX, aY, 1]
    ];

    setM(this, matrixMultiply(m1, this.m_), false);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdffield" id="apidoc.module.pdf2json.pdffield">module pdf2json.pdffield</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdffield.pdffield" id="apidoc.element.pdf2json.pdffield.pdffield">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdffield
        <span class="apidocSignatureSpan">(field, viewport, Fields, Boxsets)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdffield = function (field, viewport, Fields, Boxsets) {
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = function() { return _id; };
    this.get_name = function() { return _name + _id; };

    this.field = field;
    this.viewport = viewport;
    this.Fields = Fields;
    this.Boxsets = Boxsets;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdffield.getAllFieldsTypes" id="apidoc.element.pdf2json.pdffield.getAllFieldsTypes">
        function <span class="apidocSignatureSpan">pdf2json.pdffield.</span>getAllFieldsTypes
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAllFieldsTypes = function (data) {

    function isFieldReadOnly(field) {
        return (field.AM &amp; kFBANotOverridable) ? true : false;
    }

    function getFieldBase(field) {
        return {id: field.id.Id, type: field.T.Name, calc: isFieldReadOnly(field), value: field.V || ""};
    }

    let retVal = [];

    _.each(data.Pages, function(page) {
        _.each(page.Boxsets, function(boxsets) {
            if (boxsets.boxes.length &gt; 1) { //radio button
                _.each(boxsets.boxes, function(box) {
                    retVal.push({id: boxsets.id.Id, type: "radio", calc: isFieldReadOnly(box), value: box.id.Id});
                });
            }
            else { //checkbox
                retVal.push(getFieldBase(boxsets.boxes[0]));
            }
        });

        _.each(page.Fields, function(field){
            retVal.push(getFieldBase(field));
        });
    });
    return retVal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    let fs = require('fs'),
        PDFParser = require("pdf2json");

    let pdfParser = new PDFParser();

    pdfParser.on("pdfParser_dataError", errData =&gt; console.error(errData.parserError) );
    pdfParser.on("pdfParser_dataReady", pdfData =&gt; {
        fs.writeFile("./pdf2json/test/F1040EZ.fields.json", JSON.stringify(pdfParser.<span class="apidocCodeKeywordSpan
">getAllFieldsTypes</span>()));
    });

    pdfParser.loadPDF("./pdf2json/test/pdf/fd/form/F1040EZ.pdf");
````

Alternatively, you can pipe input and output streams: (requires v1.1.4)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdffield.isFormElement" id="apidoc.element.pdf2json.pdffield.isFormElement">
        function <span class="apidocSignatureSpan">pdf2json.pdffield.</span>isFormElement
        <span class="apidocSignatureSpan">(field)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isFormElement = function (field) {
    let retVal = false;
    switch(field.subtype) {
        case 'Widget': retVal = cls.isWidgetSupported(field); break;
        default:
            nodeUtil.p2jwarn("Unsupported: field.type of " + field.subtype);
            break;
    }
    return retVal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  INITIAL: 0,
  RUNNING: 1,
  PAUSED: 2,
  FINISHED: 3
};

let _addField = function(field) {
    if (!PDFField.<span class="apidocCodeKeywordSpan">isFormElement</span>(field))
        return;

    let oneField = new PDFField(field, this.viewport, this.Fields, this.Boxsets);
    oneField.processField();
};

// constructor
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdffield.isWidgetSupported" id="apidoc.element.pdf2json.pdffield.isWidgetSupported">
        function <span class="apidocSignatureSpan">pdf2json.pdffield.</span>isWidgetSupported
        <span class="apidocSignatureSpan">(field)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isWidgetSupported = function (field) {
    let retVal = false;

    switch(field.fieldType) {
        case 'Tx': retVal = true; break; //text input
        case 'Btn':
            if (field.fieldFlags &amp; 32768) {
                field.fieldType = 'Rd'; //radio button
            }
            else if (field.fieldFlags &amp; 65536) {
                field.fieldType = 'Btn'; //push button
            }
            else {
                field.fieldType = 'Cb'; //checkbox
            }
            retVal = true;
            break;
        case 'Ch': retVal = true; break; //drop down
        default:
            nodeUtil.p2jwarn("Unsupported: field.fieldType of " + field.fieldType);
            break;
    }

    return retVal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    return retVal;
};

cls.isFormElement = function(field) {
    let retVal = false;
    switch(field.subtype) {
        case 'Widget': retVal = cls.<span class="apidocCodeKeywordSpan">isWidgetSupported</span>(field); break;
        default:
            nodeUtil.p2jwarn("Unsupported: field.type of " + field.subtype);
            break;
    }
    return retVal;
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdffield.prototype" id="apidoc.module.pdf2json.pdffield.prototype">module pdf2json.pdffield.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdffield.prototype.clean" id="apidoc.element.pdf2json.pdffield.prototype.clean">
        function <span class="apidocSignatureSpan">pdf2json.pdffield.prototype.</span>clean
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clean = function () {
    delete this.get_id;
    delete this.get_name;

    delete this.field;
    delete this.viewport;
    delete this.Fields;
    delete this.Boxsets;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    console.warn("to be implemented: contextPrototype.measureText - ", text);
    let chars = text.length || 1;
    return {width: chars * (this.currentFont.spaceWidth || 5)};
};

contextPrototype.setFont = function(fontObj) {
    if ((!!this.currentFont) &amp;&amp; _.isFunction(this.currentFont.clean)) {
        this.currentFont.<span class="apidocCodeKeywordSpan">clean</span>();
        this.currentFont = null;
    }

    this.currentFont = new PDFFont(fontObj);
};

contextPrototype.clearRect = function () {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdffield.prototype.processField" id="apidoc.element.pdf2json.pdffield.prototype.processField">
        function <span class="apidocSignatureSpan">pdf2json.pdffield.prototype.</span>processField
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processField = function () {

    this.field.TI = _tabIndex++;

    switch(this.field.fieldType) {
        case 'Tx': _addAlpha.call(this, this.field); break;
        case 'Cb': _addCheckBox.call(this, this.field); break;
        case 'Rd': _addRadioButton.call(this, this.field);break;
        case 'Btn':_addLinkButton.call(this, this.field); break;
        case 'Ch': _addSelect.call(this, this.field); break;
    }

    this.clean();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

let _addField = function(field) {
    if (!PDFField.isFormElement(field))
        return;

    let oneField = new PDFField(field, this.viewport, this.Fields, this.Boxsets);
    oneField.<span class="apidocCodeKeywordSpan">processField</span>();
};

// constructor
let cls = function (pdfPage, id, scale, ptiParser) {
    nodeEvents.EventEmitter.call(this);
    // private
    let _id = _nextId++;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdffill" id="apidoc.module.pdf2json.pdffill">module pdf2json.pdffill</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdffill.pdffill" id="apidoc.element.pdf2json.pdffill.pdffill">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdffill
        <span class="apidocSignatureSpan">(x, y, width, height, color)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdffill = function (x, y, width, height, color) {
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = function() { return _id; };
    this.get_name = function() { return _name + _id; };

    this.x = x;
    this.y = y;
    this.width = width;
    this.height = height;
    this.color = color;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdffill.prototype" id="apidoc.module.pdf2json.pdffill.prototype">module pdf2json.pdffill.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdffill.prototype.processFill" id="apidoc.element.pdf2json.pdffill.prototype.processFill">
        function <span class="apidocSignatureSpan">pdf2json.pdffill.prototype.</span>processFill
        <span class="apidocSignatureSpan">(targetData)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processFill = function (targetData) {
    let clrId = PDFUnit.findColorIndex(this.color);

    let oneFill = {x:PDFUnit.toFormX(this.x),
                   y:PDFUnit.toFormY(this.y),
                   w:PDFUnit.toFormX(this.width),
                   h:PDFUnit.toFormY(this.height),
                   clr: clrId};

    //MQZ.07/29/2013: when color is not in color dictionary, set the original color (oc)
    if (clrId &lt; 0) {
        oneFill = _.extend({oc: this.color}, oneFill);
    }

    targetData.Fills.push(oneFill);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    pL.processLine(this.canvas);
};

let _drawPDFFill = function(cp, min, max, color) {
    let width = max.x - min.x;
    let height = max.y - min.y;
    let pF = new PDFFill(cp.x, cp.y, width, height, color);
    pF.<span class="apidocCodeKeywordSpan">processFill</span>(this.canvas);
};

let _needRemoveRect = function(x, y, w, h) {
    let retVal = (Math.abs(w - Math.abs(h)) &lt; 1 &amp;&amp; w &lt; 13);
    if (retVal) {
        nodeUtil.p2jinfo("Skipped: tiny rect: w=" + w + ", h=" + h);
    }
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdffont" id="apidoc.module.pdf2json.pdffont">module pdf2json.pdffont</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdffont.pdffont" id="apidoc.element.pdf2json.pdffont.pdffont">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdffont
        <span class="apidocSignatureSpan">(fontObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdffont = function (fontObj) {
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = function() { return _id; };
    this.get_name = function() { return _name + _id; };

    this.fontObj = fontObj;
    let typeName = (fontObj.name || fontObj.fallbackName);
    if (!typeName) {
        typeName = _kFontFaces[0]; //default font family name
    }
    typeName = typeName.toLowerCase();
    this.typeName = typeName;

    let subType = typeName;
    let nameArray = typeName.split('+');
    if (_.isArray(nameArray) &amp;&amp; nameArray.length &gt; 1) {
        subType = nameArray[1].split("-");
        if (_.isArray(subType) &amp;&amp; subType.length &gt; 1) {
            if (!this.bold) {
                let subName = subType[1].toLowerCase();
                this.bold = _boldSubNames.indexOf(subName) &gt;= 0;
            }
            subType = subType[0];
        }
    }
    this.subType = subType;

    this.isSymbol = typeName.indexOf("symbol") &gt; 0 || _kFontFaces[2].indexOf(this.subType) &gt;= 0;
    if (this.fontObj.isSymbolicFont) {
        let mFonts = _stdFonts.filter( (oneName) =&gt; (typeName.indexOf(oneName) &gt;= 0) );

        if (mFonts.length &gt; 0) {
            this.fontObj.isSymbolicFont = false; //lots of Arial-based font is detected as symbol in VA forms (301, 76-c, etc.)
reset the flag for now
            nodeUtil.p2jinfo("Reset: isSymbolicFont (false) for " + this.fontObj.name);
        }
    }
    else {
        if (this.isSymbol) {
            this.fontObj.isSymbolicFont = true; //text pdf: va_ind_760c
            nodeUtil.p2jinfo("Reset: isSymbolicFont (true) for " + this.fontObj.name);
        }
    }

    this.fontSize = 1;

    this.faceIdx = 0;
    this.bold = false;
    this.italic = false;

    this.fontStyleId = -1;

	    this.spaceWidth = fontObj.spaceWidth;
	    if (!this.spaceWidth) {
		    var spaceId = Array.isArray(fontObj.toFontChar) ? fontObj.toFontChar.indexOf(32) : -1;
		    this.spaceWidth = (spaceId &gt;= 0 &amp;&amp; Array.isArray(fontObj.widths)) ? fontObj.widths[spaceId] : 250;
	    }
	    this.spaceWidth = PDFUnit.toFormX(this.spaceWidth) / 32;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdffont.areAdjacentBlocks" id="apidoc.element.pdf2json.pdffont.areAdjacentBlocks">
        function <span class="apidocSignatureSpan">pdf2json.pdffont.</span>areAdjacentBlocks
        <span class="apidocSignatureSpan">(t1, t2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">areAdjacentBlocks = function (t1, t2) {
    let isInSameLine = Math.abs(t1.y - t2.y) &lt;= DISTANCE_DELTA;
    let isDistanceSmallerThanASpace = ((t2.x - t1.x - t1.w) &lt; cls.getSpaceThreshHold(t1));

    return isInSameLine &amp;&amp; isDistanceSmallerThanASpace;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				return !isDup;
			});

			for (let i = 0; i &lt; page.Texts.length; i++) {
				let text = page.Texts[i];

				if (prevText) {
					if (PDFFont.<span class="apidocCodeKeywordSpan">areAdjacentBlocks</span>(prevText, text) &amp;&amp; PDFFont.haveSameStyle
(prevText, text)) {
						let preT = decodeURIComponent(prevText.R[0].T);
						let curT = decodeURIComponent(text.R[0].T);

						prevText.R[0].T += text.R[0].T;
prevText.w += text.w;
text.merged = true;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdffont.areDuplicateBlocks" id="apidoc.element.pdf2json.pdffont.areDuplicateBlocks">
        function <span class="apidocSignatureSpan">pdf2json.pdffont.</span>areDuplicateBlocks
        <span class="apidocSignatureSpan">(t1, t2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">areDuplicateBlocks = function (t1, t2) {
    return t1.x == t2.x &amp;&amp; t1.y == t2.y &amp;&amp; t1.R[0].T == t2.R[0].T &amp;&amp; cls.haveSameStyle(t1, t2);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	cls.prototype.getMergedTextBlocksIfNeeded = function() {
		for (let p = 0; p &lt; this.pages.length; p++) {
			let prevText = null;
			let page = this.pages[p];

			page.Texts.sort(PDFFont.compareBlockPos);
			page.Texts = page.Texts.filter( (t, j) =&gt; {
				let isDup = (j &gt; 0) &amp;&amp; PDFFont.<span class="apidocCodeKeywordSpan">areDuplicateBlocks</span>(page.Texts[j-1],
t);
				if (isDup) {
					nodeUtil.p2jinfo("skipped: dup text block: " + decodeURIComponent(t.R[0].T));
				}
				return !isDup;
			});

			for (let i = 0; i &lt; page.Texts.length; i++) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdffont.compareBlockPos" id="apidoc.element.pdf2json.pdffont.compareBlockPos">
        function <span class="apidocSignatureSpan">pdf2json.pdffont.</span>compareBlockPos
        <span class="apidocSignatureSpan">(t1, t2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compareBlockPos = function (t1, t2) {
    if (t1.y &lt; t2.y - DISTANCE_DELTA) {
        return -1;
    }
    if (Math.abs(t1.y - t2.y) &lt;= DISTANCE_DELTA) {
        if (t1.x &lt; t2.x - DISTANCE_DELTA) {
            return -1;
        }
        if (Math.abs(t1.x - t2.x) &lt;= DISTANCE_DELTA) {
            return 0;
        }
    }
    return 1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdffont.getFontSize" id="apidoc.element.pdf2json.pdffont.getFontSize">
        function <span class="apidocSignatureSpan">pdf2json.pdffont.</span>getFontSize
        <span class="apidocSignatureSpan">(textBlock)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getFontSize = function (textBlock) {
		let sId = textBlock.R[0].S;
		return (sId &lt; 0) ? textBlock.R[0].TS[1] : _kFontStyles[sId][1];
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    retVal = (typeof t1.R[0].RA === 'undefined') &amp;&amp; (typeof t2.R[0].RA === 'undefined');
}

return retVal;
    };

    cls.getSpaceThreshHold = function(t1) {
return (PDFFont.<span class="apidocCodeKeywordSpan">getFontSize</span>(t1)/12) * t1.sw;
    };

    cls.areAdjacentBlocks = function(t1, t2) {
let isInSameLine = Math.abs(t1.y - t2.y) &lt;= DISTANCE_DELTA;
let isDistanceSmallerThanASpace = ((t2.x - t1.x - t1.w) &lt; cls.getSpaceThreshHold(t1));

return isInSameLine &amp;&amp; isDistanceSmallerThanASpace;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdffont.getSpaceThreshHold" id="apidoc.element.pdf2json.pdffont.getSpaceThreshHold">
        function <span class="apidocSignatureSpan">pdf2json.pdffont.</span>getSpaceThreshHold
        <span class="apidocSignatureSpan">(t1)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getSpaceThreshHold = function (t1) {
    return (PDFFont.getFontSize(t1)/12) * t1.sw;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    cls.getSpaceThreshHold = function(t1) {
        return (PDFFont.getFontSize(t1)/12) * t1.sw;
    };

    cls.areAdjacentBlocks = function(t1, t2) {
        let isInSameLine = Math.abs(t1.y - t2.y) &lt;= DISTANCE_DELTA;
        let isDistanceSmallerThanASpace = ((t2.x - t1.x - t1.w) &lt; cls.<span class="apidocCodeKeywordSpan">getSpaceThreshHold
</span>(t1));

        return isInSameLine &amp;&amp; isDistanceSmallerThanASpace;
    };

	cls.getFontSize = function(textBlock) {
		let sId = textBlock.R[0].S;
		return (sId &lt; 0) ? textBlock.R[0].TS[1] : _kFontStyles[sId][1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdffont.haveSameStyle" id="apidoc.element.pdf2json.pdffont.haveSameStyle">
        function <span class="apidocSignatureSpan">pdf2json.pdffont.</span>haveSameStyle
        <span class="apidocSignatureSpan">(t1, t2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">haveSameStyle = function (t1, t2) {
    let retVal = t1.R[0].S === t2.R[0].S;
    if (retVal &amp;&amp; t1.R[0].S &lt; 0) {
        for (let i = 0; i &lt; t1.R[0].TS.length; i++) {
            if (t1.R[0].TS[i] !== t2.R[0].TS[i]) {
                retVal = false;
                break;
            }
        }
    }
    if (retVal) { // make sure both block are not rotated
        retVal = (typeof t1.R[0].RA === 'undefined') &amp;&amp; (typeof t2.R[0].RA === 'undefined');
    }

    return retVal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				return !isDup;
			});

			for (let i = 0; i &lt; page.Texts.length; i++) {
				let text = page.Texts[i];

				if (prevText) {
					if (PDFFont.areAdjacentBlocks(prevText, text) &amp;&amp; PDFFont.<span class="apidocCodeKeywordSpan">haveSameStyle</span>(
prevText, text)) {
						let preT = decodeURIComponent(prevText.R[0].T);
						let curT = decodeURIComponent(text.R[0].T);

						prevText.R[0].T += text.R[0].T;
prevText.w += text.w;
text.merged = true;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdffont.prototype" id="apidoc.module.pdf2json.pdffont.prototype">module pdf2json.pdffont.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdffont.prototype.clean" id="apidoc.element.pdf2json.pdffont.prototype.clean">
        function <span class="apidocSignatureSpan">pdf2json.pdffont.prototype.</span>clean
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clean = function () {
    this.fontObj = null;
    delete this.fontObj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    console.warn("to be implemented: contextPrototype.measureText - ", text);
    let chars = text.length || 1;
    return {width: chars * (this.currentFont.spaceWidth || 5)};
};

contextPrototype.setFont = function(fontObj) {
    if ((!!this.currentFont) &amp;&amp; _.isFunction(this.currentFont.clean)) {
        this.currentFont.<span class="apidocCodeKeywordSpan">clean</span>();
        this.currentFont = null;
    }

    this.currentFont = new PDFFont(fontObj);
};

contextPrototype.clearRect = function () {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdffont.prototype.flash_encode" id="apidoc.element.pdf2json.pdffont.prototype.flash_encode">
        function <span class="apidocSignatureSpan">pdf2json.pdffont.prototype.</span>flash_encode
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">flash_encode = function (str) {
    let retVal = encodeURIComponent(str);
    retVal = retVal.replace("%C2%96", "-");
    retVal = retVal.replace("%C2%91", "%27");
    retVal = retVal.replace("%C2%92", "%27");
    retVal = retVal.replace("%C2%82", "%27");
    retVal = retVal.replace("%C2%93", "%22");
    retVal = retVal.replace("%C2%94", "%22");
    retVal = retVal.replace("%C2%84", "%22");
    retVal = retVal.replace("%C2%8B", "%C2%AB");
    retVal = retVal.replace("%C2%9B", "%C2%BB");

    return retVal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
let oneText = {x: PDFUnit.toFormX(p.x) - 0.25,
    y: PDFUnit.toFormY(p.y) - 0.75,
    w: PDFUnit.toFixedFloat(maxWidth),
	        sw: this.spaceWidth, //font space width, use to merge adjacent text blocks
    clr: clrId,
    A: "left",
    R: [{
        T: this.<span class="apidocCodeKeywordSpan">flash_encode</span>(text),
        S: this.fontStyleId,
        TS: TS
    }]
};

//MQZ.07/29/2013: when color is not in color dictionary, set the original color (oc)
if (clrId &lt; 0) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdffont.prototype.processText" id="apidoc.element.pdf2json.pdffont.prototype.processText">
        function <span class="apidocSignatureSpan">pdf2json.pdffont.prototype.</span>processText
        <span class="apidocSignatureSpan">(p, str, maxWidth, color, fontSize, targetData, matrix2D)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processText = function (p, str, maxWidth, color, fontSize, targetData, matrix2D) {
    let text = _processSymbolicFont.call(this, str);
    if (!text) {
        return;
    }
    this.fontStyleId = _getFontStyleIndex.call(this, fontSize);

    // when this.fontStyleId === -1, it means the text style doesn't match any entry in the dictionary
    // adding TS to better describe text style [fontFaceId, fontSize, 1/0 for bold, 1/0 for italic];
    let TS = [this.faceIdx, this.fontSize, this.bold?1:0, this.italic?1:0];

    let clrId = PDFUnit.findColorIndex(color);

    let oneText = {x: PDFUnit.toFormX(p.x) - 0.25,
        y: PDFUnit.toFormY(p.y) - 0.75,
        w: PDFUnit.toFixedFloat(maxWidth),
	        sw: this.spaceWidth, //font space width, use to merge adjacent text blocks
        clr: clrId,
        A: "left",
        R: [{
            T: this.flash_encode(text),
            S: this.fontStyleId,
            TS: TS
        }]
    };

    //MQZ.07/29/2013: when color is not in color dictionary, set the original color (oc)
    if (clrId &lt; 0) {
        oneText = _.extend({oc: color}, oneText);
    }

    let rAngle = _textRotationAngle.call(this, matrix2D);
    if (rAngle != 0) {
        nodeUtil.p2jinfo(str + ": rotated " + rAngle + " degree.");
        _.extend(oneText.R[0], {RA: rAngle});
    }

	    targetData.Texts.push(oneText);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (!text || text.trim().length &lt; 1)
        return;
    let p = this.getCoords_(x, y);

    let a = processStyle(this.fillStyle || this.strokeStyle);
    let color = (!!a) ? a.color : '#000000';

    this.currentFont.<span class="apidocCodeKeywordSpan">processText</span>(p, text, maxWidth, color, fontSize, this.canvas, this
.m_);
};

contextPrototype.strokeText = function(text, x, y, maxWidth) {
    //MQZ. 10/23/2012, yeah, no hollow text for now
    this.fillText(text, x, y, maxWidth);
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdfimage" id="apidoc.module.pdf2json.pdfimage">module pdf2json.pdfimage</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdfimage.pdfimage" id="apidoc.element.pdf2json.pdfimage.pdfimage">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdfimage
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdfimage = function () {
	'use strict';

	let _src = '';
	let _onload = null;

	this.__defineSetter__("onload", function(val) {
		_onload = val;
	});

	this.__defineGetter__("onload", function() {
		return _onload;
	});

	this.__defineSetter__("src", function(val) {
		_src = val;
		if (_onload) _onload();
	});

	this.__defineGetter__("src", function() {
		return _src;
	});

    this.btoa = function(val) {
        if (typeof window === 'undefined') {
            return (new Buffer(val, 'ascii')).toString('base64');
        }
        else if (typeof window.btoa === 'function')
            return window.btoa(val);

        return "";
    };

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdfline" id="apidoc.module.pdf2json.pdfline">module pdf2json.pdfline</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdfline.pdfline" id="apidoc.element.pdf2json.pdfline.pdfline">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdfline
        <span class="apidocSignatureSpan">(x1, y1, x2, y2, lineWidth, color, dashed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdfline = function (x1, y1, x2, y2, lineWidth, color, dashed) {
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = function() { return _id; };
    this.get_name = function() { return _name + _id; };

    this.x1 = x1;
    this.y1 = y1;
    this.x2 = x2;
    this.y2 = y2;
    this.lineWidth = lineWidth || 1.0;
    this.color = color;
    this.dashed = dashed;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdfline.prototype" id="apidoc.module.pdf2json.pdfline.prototype">module pdf2json.pdfline.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdfline.prototype.processLine" id="apidoc.element.pdf2json.pdfline.prototype.processLine">
        function <span class="apidocSignatureSpan">pdf2json.pdfline.prototype.</span>processLine
        <span class="apidocSignatureSpan">(targetData)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processLine = function (targetData) {
    let xDelta = Math.abs(this.x2 - this.x1);
    let yDelta = Math.abs(this.y2 - this.y1);
    let minDelta = this.lineWidth;

    let oneLine = {x:0, y:0, w: PDFUnit.toFixedFloat(this.lineWidth), l:0};

    //MQZ Aug.28.2013, adding color support, using color dictionary and default to black
    let clrId = PDFUnit.findColorIndex(this.color);
    if (clrId &lt; 0) {
        oneLine = _.extend({oc: this.color}, oneLine);
    }
    else if (clrId &gt; 0 &amp;&amp; clrId &lt; (PDFUnit.colorCount() - 1)) {
        oneLine = _.extend({clr: clrId}, oneLine);
    }

    //MQZ Aug.29 dashed line support
    if (this.dashed) {
        oneLine = _.extend({dsh: 1}, oneLine);
    }

    if ((yDelta &lt; this.lineWidth) &amp;&amp; (xDelta &gt; minDelta)) { //HLine
        if (this.lineWidth &lt; 4 &amp;&amp; (xDelta / this.lineWidth &lt; 4)) {
            nodeUtil.p2jinfo("Skipped: short thick HLine: lineWidth = " + this.lineWidth + ", xDelta = " + xDelta);
            return; //skip short thick lines, like PA SPP lines behinds checkbox
        }

        oneLine.l = PDFUnit.toFormX(xDelta);
        if (this.x1 &gt; this.x2)
            _setStartPoint.call(this, oneLine, this.x2, this.y2);
        else
            _setStartPoint.call(this, oneLine, this.x1, this.y1);
        targetData.HLines.push(oneLine);
    }
    else if ((xDelta &lt; this.lineWidth) &amp;&amp; (yDelta &gt; minDelta)) {//VLine
        if (this.lineWidth &lt; 4 &amp;&amp; (yDelta / this.lineWidth &lt; 4)) {
            nodeUtil.p2jinfo("Skipped: short thick VLine: lineWidth = " + this.lineWidth + ", yDelta = " + yDelta);
            return; //skip short think lines, like PA SPP lines behinds checkbox
        }

        oneLine.l = PDFUnit.toFormY(yDelta);
        if (this.y1 &gt; this.y2)
            _setStartPoint.call(this, oneLine, this.x2, this.y2);
        else
            _setStartPoint.call(this, oneLine, this.x1, this.y1);
        targetData.VLines.push(oneLine);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.currentFont = null;
}

//private helper methods
let _drawPDFLine = function(p1, p2, lineWidth, color) {
    let dashedLine = _.isArray(this.dashArray) &amp;&amp; (this.dashArray.length &gt; 1);
    let pL = new PDFLine(p1.x, p1.y, p2.x, p2.y, lineWidth, color, dashedLine);
    pL.<span class="apidocCodeKeywordSpan">processLine</span>(this.canvas);
};

let _drawPDFFill = function(cp, min, max, color) {
    let width = max.x - min.x;
    let height = max.y - min.y;
    let pF = new PDFFill(cp.x, cp.y, width, height, color);
    pF.processFill(this.canvas);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.pdfunit" id="apidoc.module.pdf2json.pdfunit">module pdf2json.pdfunit</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.pdfunit.pdfunit" id="apidoc.element.pdf2json.pdfunit.pdfunit">
        function <span class="apidocSignatureSpan">pdf2json.</span>pdfunit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdfunit = function () {
    // private
    let _id = _nextId++;

    // public (every instance will have their own copy of these methods, needs to be lightweight)
    this.get_id = function() { return _id; };
    this.get_name = function() { return _name + _id; };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfunit.colorCount" id="apidoc.element.pdf2json.pdfunit.colorCount">
        function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>colorCount
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">colorCount = function () {
    return kColors.length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
let oneLine = {x:0, y:0, w: PDFUnit.toFixedFloat(this.lineWidth), l:0};

//MQZ Aug.28.2013, adding color support, using color dictionary and default to black
let clrId = PDFUnit.findColorIndex(this.color);
if (clrId &lt; 0) {
    oneLine = _.extend({oc: this.color}, oneLine);
}
else if (clrId &gt; 0 &amp;&amp; clrId &lt; (PDFUnit.<span class="apidocCodeKeywordSpan">colorCount</span>() - 1)) {
    oneLine = _.extend({clr: clrId}, oneLine);
}

//MQZ Aug.29 dashed line support
if (this.dashed) {
    oneLine = _.extend({dsh: 1}, oneLine);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfunit.findColorIndex" id="apidoc.element.pdf2json.pdfunit.findColorIndex">
        function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>findColorIndex
        <span class="apidocSignatureSpan">(color)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findColorIndex = function (color) {
    if (color.length === 4)
        color += "000";
    //MQZ. 07/29/2013: if color is not in dictionary, just return -1. The caller (pdffont, pdffill) will set the actual color
    return kColors.indexOf(color);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.width = width;
this.height = height;
this.color = color;
    };

    // public (every instance will share the same method, but has no access to private fields defined in constructor)
    cls.prototype.processFill = function (targetData) {
let clrId = PDFUnit.<span class="apidocCodeKeywordSpan">findColorIndex</span>(this.color);

let oneFill = {x:PDFUnit.toFormX(this.x),
               y:PDFUnit.toFormY(this.y),
               w:PDFUnit.toFormX(this.width),
               h:PDFUnit.toFormY(this.height),
               clr: clrId};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfunit.getColorByIndex" id="apidoc.element.pdf2json.pdfunit.getColorByIndex">
        function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>getColorByIndex
        <span class="apidocSignatureSpan">(clrId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getColorByIndex = function (clrId) {
    return kColors[clrId];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfunit.pointToPixel" id="apidoc.element.pdf2json.pdfunit.pointToPixel">
        function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>pointToPixel
        <span class="apidocSignatureSpan">(point)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pointToPixel = function (point) {// Point unit (1/72 an inch) to pixel units
    return point * _pixelPerPoint;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfunit.toFixedFloat" id="apidoc.element.pdf2json.pdfunit.toFixedFloat">
        function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>toFixedFloat
        <span class="apidocSignatureSpan">(fNum)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toFixedFloat = function (fNum) {
    return parseFloat(fNum.toFixed(3));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        // adding TS to better describe text style [fontFaceId, fontSize, 1/0 for bold, 1/0 for italic];
        let TS = [this.faceIdx, this.fontSize, this.bold?1:0, this.italic?1:0];

        let clrId = PDFUnit.findColorIndex(color);

        let oneText = {x: PDFUnit.toFormX(p.x) - 0.25,
y: PDFUnit.toFormY(p.y) - 0.75,
w: PDFUnit.<span class="apidocCodeKeywordSpan">toFixedFloat</span>(maxWidth),
	        sw: this.spaceWidth, //font space width, use to merge adjacent text blocks
clr: clrId,
A: "left",
R: [{
    T: this.flash_encode(text),
    S: this.fontStyleId,
    TS: TS
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfunit.toFormPoint" id="apidoc.element.pdf2json.pdfunit.toFormPoint">
        function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>toFormPoint
        <span class="apidocSignatureSpan">(viewportX, viewportY)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toFormPoint = function (viewportX, viewportY) {
    return [(viewportX / _pixelXPerGrid), (viewportY / _pixelYPerGrid)];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfunit.toFormX" id="apidoc.element.pdf2json.pdfunit.toFormX">
        function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>toFormX
        <span class="apidocSignatureSpan">(viewportX)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toFormX = function (viewportX) {
    return cls.toFixedFloat(viewportX / _pixelXPerGrid);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.Fields = [];
//form elements: radio buttons and check boxes
this.Boxsets = [];

//public properties
Object.defineProperty(this, 'width', {
    get:function () {
        return PDFUnit.<span class="apidocCodeKeywordSpan">toFormX</span>(this.viewport.width);
    },
    enumerable:true
});

Object.defineProperty(this, 'height', {
    get:function () {
        return PDFUnit.toFormY(this.viewport.height);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfunit.toFormY" id="apidoc.element.pdf2json.pdfunit.toFormY">
        function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>toFormY
        <span class="apidocSignatureSpan">(viewportY)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toFormY = function (viewportY) {
    return cls.toFixedFloat(viewportY / _pixelYPerGrid);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
                return PDFUnit.toFormX(this.viewport.width);
            },
            enumerable:true
        });

        Object.defineProperty(this, 'height', {
            get:function () {
                return PDFUnit.<span class="apidocCodeKeywordSpan">toFormY</span>(this.viewport.height);
            },
            enumerable:true
        });
    };
    // inherit from event emitter
	nodeUtil.inherits(cls, nodeEvents.EventEmitter);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfunit.toPixelX" id="apidoc.element.pdf2json.pdfunit.toPixelX">
        function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>toPixelX
        <span class="apidocSignatureSpan">(formX)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toPixelX = function (formX) {
    return Math.round(formX * _pixelXPerGrid);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.pdfunit.toPixelY" id="apidoc.element.pdf2json.pdfunit.toPixelY">
        function <span class="apidocSignatureSpan">pdf2json.pdfunit.</span>toPixelY
        <span class="apidocSignatureSpan">(formY)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toPixelY = function (formY) {
    return Math.round(formY * _pixelYPerGrid);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.ptixmlinject" id="apidoc.module.pdf2json.ptixmlinject">module pdf2json.ptixmlinject</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.ptixmlinject.ptixmlinject" id="apidoc.element.pdf2json.ptixmlinject.ptixmlinject">
        function <span class="apidocSignatureSpan">pdf2json.</span>ptixmlinject
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ptixmlinject = function () {
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.ptixmlinject.prototype" id="apidoc.module.pdf2json.ptixmlinject.prototype">module pdf2json.ptixmlinject.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.ptixmlinject.prototype.getFields" id="apidoc.element.pdf2json.ptixmlinject.prototype.getFields">
        function <span class="apidocSignatureSpan">pdf2json.ptixmlinject.prototype.</span>getFields
        <span class="apidocSignatureSpan">(pageNum)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getFields = function (pageNum) {
		return ptiPageArray[pageNum];
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
let errMsg = 'An error occurred while rendering the page ' + (this.id + 1) +
    ':\n' + error.message +
    ':\n' + error.stack;
errorCallBack(errMsg);
            }
            else {
if (this.ptiParser) {
    let extraFields = this.ptiParser.<span class="apidocCodeKeywordSpan">getFields</span>(parseInt(this.id) + 1);
    _.each(extraFields, _.bind(_addField, this));
}

_.extend(this, ctx.canvas);
this.stats = this.pdfPage.stats;

nodeUtil.p2jinfo('page ' + (this.id + 1) + ' is rendered successfully.');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pdf2json.ptixmlinject.prototype.parseXml" id="apidoc.element.pdf2json.ptixmlinject.prototype.parseXml">
        function <span class="apidocSignatureSpan">pdf2json.ptixmlinject.prototype.</span>parseXml
        <span class="apidocSignatureSpan">(filePath, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseXml = function (filePath, callback) {

		fs.readFile(filePath, 'utf8', function (err,data) {
			if (err) {
                callback(err);
			}
			else {
				xmlData = data;

				var parser = new DOMParser();
				var dom = parser.parseFromString(xmlData);
				var root = dom.documentElement;

				var xmlFields = root.getElementsByTagName("field");
				var fields = [];

				for(var i=0;i&lt;xmlFields.length;i++){
					var id = xmlFields[i].getAttribute('id');
					var xPos = xmlFields[i].getAttribute('x');
					var yPos = xmlFields[i].getAttribute('y');
					var width = xmlFields[i].getAttribute('width');
					var height = xmlFields[i].getAttribute('height');
					var type = xmlFields[i].getAttribute('xsi:type');
					var page = xmlFields[i].getAttribute('page');
					var fontName = xmlFields[i].getAttribute('fontName');
					var fontSize = xmlFields[i].getAttribute('fontSize');

					var item = {};
					
					var rectLeft = parseInt(xPos) - 21; //was 23.5
					var rectTop = parseInt(yPos) - 20;//was 23
					var rectRight = parseInt(rectLeft) + parseInt(width) - 4;
					var rectBottom = parseInt(rectTop) + parseInt(height) - 4;
					
					item.fieldType="Tx";
					if (type == "Boolean") {
						item.fieldType="Btn";
					}
					else  if (type=="SSN" ||  type=="Phone" || type=="zip") {
						item.TName = type.toLowerCase();
					}
					item.alternativeText = "";
					item.fullName = id;
					item.fontSize = fontSize;
					item.subtype = "Widget";

					item.rect = [rectLeft, rectTop, rectRight, rectBottom];;

					fields.push(item);
					
					ptiPageArray[parseInt(page)]=fields;
				}
				
			}
			callback();
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if ((fieldInfoXMLPath.indexOf(_sufInfo) &lt; 1) || (!fs.existsSync(fieldInfoXMLPath))) {
    return;
}
nodeUtil.p2jinfo("About to load fieldInfo XML : " + fieldInfoXMLPath);

let PTIXmlParser = require('./ptixmlinject');
this.ptiParser = new PTIXmlParser();
this.ptiParser.<span class="apidocCodeKeywordSpan">parseXml</span>(fieldInfoXMLPath, err =&gt; {
    if (err) {
        nodeUtil.p2jwarn("fieldInfo XML Error: " + JSON.stringify(err));
        this.ptiParser = null;
    }
    else {
        nodeUtil.p2jinfo("fieldInfo XML loaded.");
    }
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pdf2json.toString" id="apidoc.module.pdf2json.toString">module pdf2json.toString</a></h1>


    <h2>
        <a href="#apidoc.element.pdf2json.toString.toString" id="apidoc.element.pdf2json.toString.toString">
        function <span class="apidocSignatureSpan">pdf2json.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
let abs = m.abs;
let sqrt = m.sqrt;

// precompute "00" to "FF"
let dec2hex = [];
for (let i = 0; i &lt; 16; i++) {
    for (let j = 0; j &lt; 16; j++) {
        dec2hex[i * 16 + j] = i.<span class="apidocCodeKeywordSpan">toString</span>(16) + j.toString(16);
    }
}

function createMatrixIdentity() {
    return [
        [1, 0, 0],
        [0, 1, 0],
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>